# REACT+FASTAPI WEBAPP - COMPLETE FLOW DIAGRAMS

**Generated:** 2025-11-16
**Purpose:** Comprehensive wire diagrams showing all pages, data flows, and user interactions
**Target Audience:** Developers, Project Managers, QA Teams

---

## TABLE OF CONTENTS

1. [Master Application Architecture](#1-master-application-architecture)
2. [Application Startup Flow](#2-application-startup-flow)
3. [Project Management Flows](#3-project-management-flows)
4. [Demand Forecasting Module Flows](#4-demand-forecasting-module-flows)
5. [Load Profiles Module Flows](#5-load-profiles-module-flows)
6. [PyPSA Suite Module Flows](#6-pypsa-suite-module-flows)
7. [Data Flow Diagrams](#7-data-flow-diagrams)
8. [Navigation & Routing Flows](#8-navigation--routing-flows)
9. [Real-Time Communication Flows](#9-real-time-communication-flows)
10. [State Management Flows](#10-state-management-flows)

---

## 1. MASTER APPLICATION ARCHITECTURE

### 1.1 High-Level System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER BROWSER                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    REACT SINGLE-PAGE APPLICATION                       â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  TopBar  â”‚  â”‚   Sidebar    â”‚  â”‚ MainContent â”‚  â”‚ WorkflowStepperâ”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚       â”‚               â”‚                  â”‚                  â”‚          â”‚ â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â”‚
â”‚  â”‚                              â”‚                                          â”‚ â”‚
â”‚  â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚ â”‚
â”‚  â”‚               â”‚  NotificationContext         â”‚                         â”‚ â”‚
â”‚  â”‚               â”‚  (Process Management)        â”‚                         â”‚ â”‚
â”‚  â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚                        PAGE COMPONENTS                           â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Home â”‚  â”‚Projects â”‚  â”‚  Demand  â”‚  â”‚ Profilesâ”‚  â”‚  PyPSA   â”‚ â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚                         STATE STORES                             â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ SessionStorageâ”‚  â”‚LocalStorageâ”‚  â”‚  Zustand Stores      â”‚   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ - activePage  â”‚  â”‚ - sidebar  â”‚  â”‚  - analyzeProfiles   â”‚   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ - activeProj  â”‚  â”‚ - colors   â”‚  â”‚  - settingsStore     â”‚   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                           HTTP / SSE / REST API
                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FASTAPI BACKEND SERVER                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          API ROUTERS (17 modules)                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚   Project    â”‚  â”‚  Scenarios  â”‚  â”‚   Profiles   â”‚  â”‚   PyPSA    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Management  â”‚  â”‚   (Demand)  â”‚  â”‚ (Generation) â”‚  â”‚   Model    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                   â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      BACKGROUND TASK EXECUTORS                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚  Forecasting   â”‚  â”‚ Profile Gen     â”‚  â”‚   PyPSA Optimizer        â”‚â”‚ â”‚
â”‚  â”‚  â”‚  (Subprocess)  â”‚  â”‚ (Subprocess)    â”‚  â”‚   (Subprocess)           â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â”‚         â”‚                     â”‚                       â”‚                 â”‚ â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â”‚                               â”‚                                          â”‚ â”‚
â”‚  â”‚                    SSE Event Queues (Progress Streaming)                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                      MODELS & ANALYZERS                                   â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚  â”‚ Forecasting â”‚  â”‚ Profile Gen  â”‚  â”‚ PyPSA Model â”‚  â”‚ Network Cache â”‚ â”‚â”‚
â”‚  â”‚  â”‚ (ML Models) â”‚  â”‚ (Optimizer)  â”‚  â”‚ (Optimizer) â”‚  â”‚ (LRU Cache)   â”‚ â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                          FILE SYSTEM STORAGE
                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PROJECT DIRECTORY STRUCTURE                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  {projectPath}/                                                         â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ inputs/                                                            â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ input_demand_file.xlsx                                        â”‚ â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ load_curve_template.xlsx                                      â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€â”€ pypsa_input_template.xlsx                                     â”‚ â”‚
â”‚  â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â””â”€â”€ results/                                                           â”‚ â”‚
â”‚  â”‚      â”œâ”€â”€ demand_forecasts/{scenario}/                                  â”‚ â”‚
â”‚  â”‚      â”œâ”€â”€ load_profiles/{profile}.xlsx                                  â”‚ â”‚
â”‚  â”‚      â””â”€â”€ pypsa_optimization/{scenario}/{network}.nc                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Component Interaction Overview

```
User Actions                 React Components           Backend API             Data Storage
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[Click Button]  â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  [Event Handler]
                                 â”‚
                                 â”‚ Update State
                                 â–¼
                            [useState/Store]
                                 â”‚
                                 â”‚ Trigger API Call
                                 â–¼
                            [axios.get/post]  â”€â”€â”€â”€â”€â”€â”€â”€â–¶  [FastAPI Route]
                                                                â”‚
                                                                â”‚ Validate
                                                                â–¼
                                                          [Pydantic Model]
                                                                â”‚
                                                                â”‚ Process
                                                                â–¼
                                                          [Business Logic]
                                                                â”‚
                                                                â”‚ Read/Write
                                                                â–¼
                                                          [File System]  â”€â”€â”€â–¶  [.xlsx/.nc/.json]
                                                                â”‚
                                                                â”‚ Return
                                                                â–¼
[UI Updates]   â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€  [Component Re-render]  â—€â”€â”€â”€â”€â”€â”€  [JSON Response]


SSE Flow (Long-Running Tasks):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[Start Task]   â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  [API POST Request]  â”€â”€â”€â”€â”€â”€â”€â–¶  [Start Subprocess]
                                                                â”‚
[Open SSE]     â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  [EventSource]       â”€â”€â”€â”€â”€â”€â”€â–¶  [SSE Endpoint]
                                 â”‚                             â”‚
                                 â”‚                             â”‚ Read Queue
                                 â”‚                             â–¼
                                 â”‚                        [Event Queue]
                                 â”‚                             â–²
                                 â”‚                             â”‚
                                 â”‚                        [Subprocess]
                                 â”‚                        (writes progress)
                                 â”‚                             â”‚
                                 â”‚ Receive Events              â”‚
                                 â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                            [Update UI]
                            (Progress bar,
                             logs, status)
```

---

## 2. APPLICATION STARTUP FLOW

### 2.1 Initial Page Load

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        APPLICATION STARTUP                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User opens browser
       â”‚
       â–¼
Load index.html
       â”‚
       â–¼
Load React bundle (main.jsx)
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Initialize React App (App.jsx) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â–¶ Load sessionStorage:
       â”‚       - activeProject (if exists)
       â”‚       - selectedPage (default: "Home")
       â”‚
       â”œâ”€â”€â”€â”€â”€â–¶ Load localStorage:
       â”‚       - sidebarCollapsed (default: false)
       â”‚       - recentProjects (array)
       â”‚
       â”œâ”€â”€â”€â”€â”€â–¶ Initialize Context Providers:
       â”‚       â””â”€â”€â–¶ NotificationContext
       â”‚            â”œâ”€â”€ processes: {}
       â”‚            â”œâ”€â”€ eventSources: {}
       â”‚            â””â”€â”€ functions: startProcess, updateProgress, endProcess
       â”‚
       â””â”€â”€â”€â”€â”€â–¶ Render Layout:
               â”œâ”€â”€ TopBar (shows activeProject if exists)
               â”œâ”€â”€ Sidebar (navigation menu)
               â”œâ”€â”€ MainContent (routes to selectedPage)
               â””â”€â”€ WorkflowStepper (if project active)

       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Is Project Active? â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
        â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
       YES          NO
        â”‚            â”‚
        â–¼            â–¼
  Navigate to    Navigate to
  selectedPage     Home
        â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   Page Component     â”‚
     â”‚   Loads and Renders  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Session Persistence Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SESSION STATE MANAGEMENT                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  sessionStorage (Persists during browser tab session)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Key: "selectedPage"                                                    â”‚
â”‚  Value: "Home" | "Create Project" | "Demand Projection" | ...          â”‚
â”‚  â”œâ”€â”€ Updated: On navigation click                                      â”‚
â”‚  â””â”€â”€ Read: On app mount                                                â”‚
â”‚                                                                         â”‚
â”‚  Key: "activeProject"                                                  â”‚
â”‚  Value: { id, name, path, lastOpened, sectors }                       â”‚
â”‚  â”œâ”€â”€ Set: After create/load project success                           â”‚
â”‚  â”œâ”€â”€ Clear: Never (persists entire session)                           â”‚
â”‚  â””â”€â”€ Read: On app mount, by all pages                                 â”‚
â”‚                                                                         â”‚
â”‚  Key: "demandVizState"                                                 â”‚
â”‚  Value: { selectedScenario, startYear, endYear, ... }                 â”‚
â”‚  â””â”€â”€ Purpose: Persist demand visualization state across navigation     â”‚
â”‚                                                                         â”‚
â”‚  Key: "dp-uiState"                                                     â”‚
â”‚  Value: { viewMode, selectedUnit, activeTab, ... }                    â”‚
â”‚  â””â”€â”€ Purpose: Demand projection UI preferences                         â”‚
â”‚                                                                         â”‚
â”‚  Key: "generateProfiles_wizardState"                                   â”‚
â”‚  Value: { currentStep, method, dataSource, ... }                      â”‚
â”‚  â””â”€â”€ Purpose: Profile generation wizard progress                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  localStorage (Persists across browser sessions)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Key: "sidebarCollapsed"                                               â”‚
â”‚  Value: true | false                                                   â”‚
â”‚  â””â”€â”€ Purpose: Remember sidebar state                                   â”‚
â”‚                                                                         â”‚
â”‚  Key: "recentProjects"                                                 â”‚
â”‚  Value: [{ id, name, path, lastOpened }, ...]                         â”‚
â”‚  â””â”€â”€ Purpose: Show recent projects on Home page                        â”‚
â”‚                                                                         â”‚
â”‚  Key: "analyze-profiles-storage"                                       â”‚
â”‚  Value: Zustand persist (profiles, selectedProfile, states)           â”‚
â”‚  â””â”€â”€ Purpose: Load profile analysis state                              â”‚
â”‚                                                                         â”‚
â”‚  Key: "color-config"                                                   â”‚
â”‚  Value: { sectors: {...}, models: {...} }                             â”‚
â”‚  â””â”€â”€ Purpose: Visualization color preferences                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Flow on State Change:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Action (e.g., changes page)
       â”‚
       â–¼
useState/setState triggers
       â”‚
       â–¼
useEffect with dependency on state
       â”‚
       â–¼
sessionStorage.setItem(key, JSON.stringify(value))
       â”‚
       â–¼
State persisted across page refreshes
```

---

## 3. PROJECT MANAGEMENT FLOWS

### 3.1 Home Page Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             HOME PAGE                                      â”‚
â”‚                         (views/Home.jsx)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Page Mount
    â”‚
    â–¼
Load Recent Projects from localStorage
    â”‚
    â”œâ”€â”€â–¶ recentProjects = JSON.parse(localStorage.getItem('recentProjects'))
    â””â”€â”€â–¶ setState(recentProjects)
    â”‚
    â–¼
Render UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        TOP SECTION                                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚  Create New      â”‚              â”‚  Load Existing   â”‚          â”‚  â”‚
â”‚  â”‚  â”‚  Project Card    â”‚              â”‚  Project Card    â”‚          â”‚  â”‚
â”‚  â”‚  â”‚                  â”‚              â”‚                  â”‚          â”‚  â”‚
â”‚  â”‚  â”‚  [Click] â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  [Click] â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚    â”‚  â”‚
â”‚  â”‚         â”‚                                    â”‚              â”‚    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                                    â”‚              â”‚       â”‚
â”‚            â–¼                                    â–¼              â–¼       â”‚
â”‚   Navigate to                          Navigate to   Navigate to      â”‚
â”‚   CreateProject                        LoadProject   LoadProject      â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                     RECENT PROJECTS SECTION                        â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚  â”‚  Search Bar:  [_______________]  ğŸ”                          â”‚ â”‚â”‚
â”‚  â”‚  â”‚               â†“                                               â”‚ â”‚â”‚
â”‚  â”‚  â”‚               Filter projects by name                         â”‚ â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚  â”‚  Sort By:  [Most Recent â–¼]                                   â”‚ â”‚â”‚
â”‚  â”‚  â”‚            - Most Recent                                      â”‚ â”‚â”‚
â”‚  â”‚  â”‚            - Alphabetical (A-Z)                               â”‚ â”‚â”‚
â”‚  â”‚  â”‚            - Alphabetical (Z-A)                               â”‚ â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚  Project Cards (List):                                            â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚  â”‚  Project 1                         ğŸ“… 2025-11-15           â”‚  â”‚â”‚
â”‚  â”‚  â”‚  /path/to/project1                                         â”‚  â”‚â”‚
â”‚  â”‚  â”‚                                                             â”‚  â”‚â”‚
â”‚  â”‚  â”‚  [Open Project]  [Delete from List]                        â”‚  â”‚â”‚
â”‚  â”‚  â”‚       â”‚                    â”‚                                â”‚  â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â”‚          â”‚                    â”‚                                   â”‚â”‚
â”‚  â”‚          â–¼                    â–¼                                   â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚â”‚
â”‚  â”‚  â”‚ Set Active   â”‚   â”‚ Remove from localStorage                   â”‚â”‚
â”‚  â”‚  â”‚ Project      â”‚   â”‚ (recentProjects)    â”‚                      â”‚â”‚
â”‚  â”‚  â”‚ Navigate to  â”‚   â”‚ Update UI           â”‚                      â”‚â”‚
â”‚  â”‚  â”‚ Demand Proj  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   WORKFLOW GUIDE SIDEBAR                           â”‚ â”‚
â”‚  â”‚  1. Create/Load Project                                           â”‚ â”‚
â”‚  â”‚  2. Demand Projection                                             â”‚ â”‚
â”‚  â”‚  3. Demand Visualization                                          â”‚ â”‚
â”‚  â”‚  4. Generate Profiles                                             â”‚ â”‚
â”‚  â”‚  5. Analyze Profiles                                              â”‚ â”‚
â”‚  â”‚  6. Model Config                                                  â”‚ â”‚
â”‚  â”‚  7. View Results                                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Interactions Decision Tree:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  User Action?   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚            â”‚            â”‚                â”‚
     â–¼            â–¼            â–¼                â–¼
[Create New] [Load Exist] [Open Recent]  [Delete from List]
     â”‚            â”‚            â”‚                â”‚
     â”‚            â”‚            â”‚                â””â”€â”€â–¶ Update localStorage
     â”‚            â”‚            â”‚                     Re-render project list
     â”‚            â”‚            â”‚
     â”‚            â”‚            â”œâ”€â”€â–¶ Load project via API
     â”‚            â”‚            â”‚    Set as activeProject
     â”‚            â”‚            â”‚    Navigate to Demand Projection
     â”‚            â”‚            â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
       Navigate to respective page
```

### 3.2 Create Project Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CREATE PROJECT PAGE                                â”‚
â”‚                    (views/Projects/CreateProject.jsx)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Page Mount
    â”‚
    â–¼
Initialize Wizard State:
    â”œâ”€â”€ currentStep = 1
    â”œâ”€â”€ projectName = ""
    â”œâ”€â”€ parentFolder = ""
    â”œâ”€â”€ description = ""
    â””â”€â”€ errors = {}
    â”‚
    â–¼
Render Step 1: Core Setup
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: Core Setup                                            [1 of 2] â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                         â”‚
â”‚  Project Name: *                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Enter project name...]                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”‚ onChange (real-time validation)                                â”‚
â”‚       â–¼                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚  â”‚  Check if valid:     â”‚                                              â”‚
â”‚  â”‚  - Not empty         â”‚                                              â”‚
â”‚  â”‚  - Alphanumeric only â”‚                                              â”‚
â”‚  â”‚  - No special chars  â”‚                                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”œâ”€â”€â–¶ Valid: âœ“ Show green checkmark                               â”‚
â”‚       â””â”€â”€â–¶ Invalid: âœ— Show error message                               â”‚
â”‚                                                                         â”‚
â”‚  Parent Folder: *                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Path/to/parent/folder]              [Browse ğŸ“]                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                               â”‚                         â”‚
â”‚                                               â”‚ onClick                 â”‚
â”‚                                               â–¼                         â”‚
â”‚                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚                                      â”‚ Open Directory Pickerâ”‚           â”‚
â”‚                                      â”‚ (Electron IPC)       â”‚           â”‚
â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                 â”‚                       â”‚
â”‚                                                 â”‚ User selects folder   â”‚
â”‚                                                 â–¼                       â”‚
â”‚                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                                      â”‚ Call API:               â”‚        â”‚
â”‚                                      â”‚ GET /check-directory    â”‚        â”‚
â”‚                                      â”‚ params: {path}          â”‚        â”‚
â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                 â”‚                       â”‚
â”‚                                          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚                                      Is Valid?         â”‚                â”‚
â”‚                                          â”‚             â”‚                â”‚
â”‚                                         YES           NO                â”‚
â”‚                                          â”‚             â”‚                â”‚
â”‚                                          â–¼             â–¼                â”‚
â”‚                                    âœ“ Set path    âœ— Show error          â”‚
â”‚                                                                         â”‚
â”‚  Final Project Path Preview:                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ /parent/folder/project-name/                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  [Cancel]                                                    [Next â†’]  â”‚
â”‚      â”‚                                                           â”‚      â”‚
â”‚      â–¼                                                           â”‚      â”‚
â”‚  Navigate to Home                                               â”‚      â”‚
â”‚                                                                  â”‚      â”‚
â”‚                                                                  â–¼      â”‚
â”‚                                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                                   â”‚ Validate Step 1: â”‚ â”‚
â”‚                                                   â”‚ - Name not empty â”‚ â”‚
â”‚                                                   â”‚ - Path valid     â”‚ â”‚
â”‚                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚           â”‚
â”‚                                                      â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”     â”‚
â”‚                                                  Valid?           â”‚     â”‚
â”‚                                                      â”‚           â”‚     â”‚
â”‚                                                     YES          NO     â”‚
â”‚                                                      â”‚           â”‚     â”‚
â”‚                                                      â–¼           â–¼     â”‚
â”‚                                                currentStep = 2  Stay   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Render Step 2: Optional Details
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2: Optional Details                                      [2 of 2] â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                         â”‚
â”‚  Description: (Optional)                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                  â”‚  â”‚
â”‚  â”‚ [Enter project description...]                                  â”‚  â”‚
â”‚  â”‚                                                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ“ Summary:                                                      â”‚  â”‚
â”‚  â”‚  Name: Solar Expansion 2025                                      â”‚  â”‚
â”‚  â”‚  Location: /Users/admin/Projects/                                â”‚  â”‚
â”‚  â”‚  Full Path: /Users/admin/Projects/Solar-Expansion-2025/          â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  The following structure will be created:                        â”‚  â”‚
â”‚  â”‚  ğŸ“ Solar-Expansion-2025/                                        â”‚  â”‚
â”‚  â”‚     â”œâ”€â”€ ğŸ“ inputs/                                               â”‚  â”‚
â”‚  â”‚     â”‚   â”œâ”€â”€ input_demand_file.xlsx (template)                    â”‚  â”‚
â”‚  â”‚     â”‚   â”œâ”€â”€ load_curve_template.xlsx (template)                  â”‚  â”‚
â”‚  â”‚     â”‚   â””â”€â”€ pypsa_input_template.xlsx (template)                 â”‚  â”‚
â”‚  â”‚     â””â”€â”€ ğŸ“ results/                                              â”‚  â”‚
â”‚  â”‚         â”œâ”€â”€ ğŸ“ demand_forecasts/                                 â”‚  â”‚
â”‚  â”‚         â”œâ”€â”€ ğŸ“ load_profiles/                                    â”‚  â”‚
â”‚  â”‚         â””â”€â”€ ğŸ“ pypsa_optimization/                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  [â† Back]                                          [Create Project]    â”‚
â”‚      â”‚                                                      â”‚           â”‚
â”‚      â–¼                                                      â”‚           â”‚
â”‚  currentStep = 1                                            â”‚           â”‚
â”‚                                                             â–¼           â”‚
â”‚                                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                                  â”‚ API Call:        â”‚   â”‚
â”‚                                                  â”‚ POST /project/   â”‚   â”‚
â”‚                                                  â”‚      create      â”‚   â”‚
â”‚                                                  â”‚ body: {          â”‚   â”‚
â”‚                                                  â”‚   name,          â”‚   â”‚
â”‚                                                  â”‚   location,      â”‚   â”‚
â”‚                                                  â”‚   description    â”‚   â”‚
â”‚                                                  â”‚ }                â”‚   â”‚
â”‚                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚             â”‚
â”‚                                                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”       â”‚
â”‚                                                 Success?         â”‚       â”‚
â”‚                                                    â”‚            â”‚       â”‚
â”‚                                                   YES           NO       â”‚
â”‚                                                    â”‚            â”‚       â”‚
â”‚                                                    â–¼            â–¼       â”‚
â”‚                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Show error  â”‚
â”‚                                         â”‚ Success Screen â”‚  Stay on pageâ”‚
â”‚                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                  â”‚                      â”‚
â”‚                                                  â–¼                      â”‚
â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚                                    â”‚ Set as Active Project:   â”‚         â”‚
â”‚                                    â”‚ - sessionStorage         â”‚         â”‚
â”‚                                    â”‚ - Add to recentProjects  â”‚         â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                               â”‚                         â”‚
â”‚                                               â–¼                         â”‚
â”‚                                    Navigate to Demand Projection       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Success Screen:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         âœ“ PROJECT CREATED                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                         â”‚
â”‚  ğŸ‰ Project "Solar Expansion 2025" has been created successfully!       â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“ Directory Structure Created:                                        â”‚
â”‚     /Users/admin/Projects/Solar-Expansion-2025/                         â”‚
â”‚     â”œâ”€â”€ inputs/ (3 template files copied)                              â”‚
â”‚     â””â”€â”€ results/ (3 empty folders created)                             â”‚
â”‚                                                                         â”‚
â”‚  Next Steps:                                                            â”‚
â”‚  1. Populate input files with your data                                â”‚
â”‚  2. Run demand projection                                              â”‚
â”‚  3. Generate load profiles                                             â”‚
â”‚  4. Configure PyPSA model                                              â”‚
â”‚                                                                         â”‚
â”‚  [Go to Demand Projection â†’]                                           â”‚
â”‚              â”‚                                                          â”‚
â”‚              â–¼                                                          â”‚
â”‚  Navigate to Demand Projection (project already set as active)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Load Project Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          LOAD PROJECT PAGE                                 â”‚
â”‚                    (views/Projects/LoadProject.jsx)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Page Mount
    â”‚
    â–¼
Initialize State:
    â”œâ”€â”€ projectPath = ""
    â”œâ”€â”€ loading = false
    â”œâ”€â”€ error = null
    â””â”€â”€ validationMessage = ""
    â”‚
    â–¼
Render UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           LOAD PROJECT                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                         â”‚
â”‚  Select an existing project folder to open:                            â”‚
â”‚                                                                         â”‚
â”‚  Project Folder Path: *                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [/path/to/existing/project]              [Browse ğŸ“]            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                â”‚                        â”‚
â”‚                                                â”‚ onClick                â”‚
â”‚                                                â–¼                        â”‚
â”‚                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                                     â”‚ Directory Picker   â”‚              â”‚
â”‚                                     â”‚ (Electron IPC)     â”‚              â”‚
â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                               â”‚                         â”‚
â”‚                                               â”‚ User selects folder     â”‚
â”‚                                               â–¼                         â”‚
â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚                                    â”‚ Set projectPath      â”‚             â”‚
â”‚                                    â”‚ Start validation     â”‚             â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                               â”‚                         â”‚
â”‚                                               â–¼                         â”‚
â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                                    â”‚ API Call:                 â”‚        â”‚
â”‚                                    â”‚ GET /check-directory      â”‚        â”‚
â”‚                                    â”‚ params: {path}            â”‚        â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                              â”‚                          â”‚
â”‚                                       â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                                   Is Valid?         â”‚                   â”‚
â”‚                                       â”‚             â”‚                   â”‚
â”‚                                      YES           NO                   â”‚
â”‚                                       â”‚             â”‚                   â”‚
â”‚                                       â–¼             â–¼                   â”‚
â”‚                              âœ“ Valid Project  âœ— "Not a valid           â”‚
â”‚                              Structure found     project folder"        â”‚
â”‚                                       â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Validation Messages:              â”‚                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                            â”‚   â”‚
â”‚  â”‚  â”‚ If Valid:                    â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚  â”‚ âœ“ Valid project structure    â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚  â”‚   found                      â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                            â”‚   â”‚
â”‚  â”‚                                     â”‚                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                            â”‚   â”‚
â”‚  â”‚  â”‚ If Invalid:                  â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚  â”‚ âœ— Selected folder is not a   â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚  â”‚   valid project.             â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚  â”‚   Please select a folder     â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚  â”‚   containing inputs/ and     â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚  â”‚   results/ directories.      â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚   â”‚
â”‚                                                                         â”‚
â”‚  [Cancel]                                                    [Load]    â”‚
â”‚      â”‚                                                          â”‚       â”‚
â”‚      â–¼                                                          â”‚       â”‚
â”‚  Navigate to Home                                              â”‚       â”‚
â”‚                                                                 â”‚       â”‚
â”‚                                                                 â–¼       â”‚
â”‚                                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                                      â”‚ Validate Path:â”‚  â”‚
â”‚                                                      â”‚ - Not empty   â”‚  â”‚
â”‚                                                      â”‚ - Valid check â”‚  â”‚
â”‚                                                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚           â”‚
â”‚                                                       â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”     â”‚
â”‚                                                    Valid?          â”‚     â”‚
â”‚                                                       â”‚           â”‚     â”‚
â”‚                                                      YES          NO     â”‚
â”‚                                                       â”‚           â”‚     â”‚
â”‚                                                       â–¼           â–¼     â”‚
â”‚                                              API Call         Show      â”‚
â”‚                                                       â”‚         error   â”‚
â”‚                                                       â–¼                 â”‚
â”‚                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚                                            â”‚ POST /project/load   â”‚     â”‚
â”‚                                            â”‚ body: {              â”‚     â”‚
â”‚                                            â”‚   project_path       â”‚     â”‚
â”‚                                            â”‚ }                    â”‚     â”‚
â”‚                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                       â”‚                 â”‚
â”‚                                                â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚                                             Success?          â”‚          â”‚
â”‚                                                â”‚             â”‚          â”‚
â”‚                                               YES           NO           â”‚
â”‚                                                â”‚             â”‚          â”‚
â”‚                                                â–¼             â–¼          â”‚
â”‚                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   Show error     â”‚
â”‚                                      â”‚ Response:    â”‚                  â”‚
â”‚                                      â”‚ {            â”‚                  â”‚
â”‚                                      â”‚   project: { â”‚                  â”‚
â”‚                                      â”‚     id,      â”‚                  â”‚
â”‚                                      â”‚     name,    â”‚                  â”‚
â”‚                                      â”‚     path,    â”‚                  â”‚
â”‚                                      â”‚     sectors  â”‚                  â”‚
â”‚                                      â”‚   }          â”‚                  â”‚
â”‚                                      â”‚ }            â”‚                  â”‚
â”‚                                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                             â”‚                          â”‚
â”‚                                             â–¼                          â”‚
â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚                                  â”‚ Set Active Project:    â”‚            â”‚
â”‚                                  â”‚ - sessionStorage       â”‚            â”‚
â”‚                                  â”‚ - Add to recent        â”‚            â”‚
â”‚                                  â”‚ - Trigger TopBar       â”‚            â”‚
â”‚                                  â”‚   re-render            â”‚            â”‚
â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                             â”‚                          â”‚
â”‚                                             â–¼                          â”‚
â”‚                                  Navigate to Demand Projection         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Project Detection Logic (Backend):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Input: User-selected folder path
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Check if path has:         â”‚
â”‚ - inputs/                  â”‚
â”‚ - results/                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
     â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”
    YES       NO
     â”‚         â”‚
     â–¼         â–¼
 Return      Search up to 5
 path        levels upward
     â”‚              â”‚
     â”‚         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
     â”‚     Found?          â”‚
     â”‚         â”‚          â”‚
     â”‚        YES         NO
     â”‚         â”‚          â”‚
     â”‚         â–¼          â–¼
     â”‚    Return      Error:
     â”‚    path        "Not a valid
     â”‚                 project"
     â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Extract sectors:   â”‚
     â”‚ Read input_demand_ â”‚
     â”‚ file.xlsx          â”‚
     â”‚ Parse ~consumption_â”‚
     â”‚ sectors marker     â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
     Return project object
```

---

## 4. DEMAND FORECASTING MODULE FLOWS

### 4.1 Demand Projection Page - Main Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DEMAND PROJECTION PAGE                              â”‚
â”‚                 (views/Demand Forecasting/DemandProjection.jsx)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Page Mount (Project must be active)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Load Data in Parallel:          â”‚
â”‚                                  â”‚
â”‚ 1. GET /project/sectors          â”‚
â”‚    (Extract sectors from Excel)  â”‚
â”‚                                  â”‚
â”‚ 2. GET /project/consolidated-    â”‚
â”‚    electricity                   â”‚
â”‚    (Consolidated demand data)    â”‚
â”‚                                  â”‚
â”‚ 3. Foreach sector:               â”‚
â”‚    POST /project/extract-sector- â”‚
â”‚    data                          â”‚
â”‚    (Sector-specific data)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RENDER UI                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TOP CONTROLS                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ View Toggle â”‚  â”‚ Unit      â”‚  â”‚  [Configure Forecast]       â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â—‹Consolidatedâ”‚  â”‚ Selector  â”‚  â”‚           â”‚                 â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â—‹Sector-wiseâ”‚  â”‚ [MWh â–¼]   â”‚  â”‚           â–¼                 â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  Open ConfigureForecast     â”‚ â”‚  â”‚
â”‚  â”‚        â”‚                          â”‚  Modal (see 4.2)            â”‚ â”‚  â”‚
â”‚  â”‚        â–¼                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚  â”‚
â”‚  â”‚  â”‚ Determines what  â”‚                                            â”‚  â”‚
â”‚  â”‚  â”‚ data to show     â”‚                                            â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  CONSOLIDATED VIEW (if selected)                                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ Tab Bar:                                                     â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ [Data Table] [Area Chart] [Stacked Bar] [Correlations]      â”‚ â”‚  â”‚
â”‚  â”‚  â”‚      â”‚             â”‚             â”‚              â”‚            â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚         â”‚             â”‚             â”‚              â”‚              â”‚  â”‚
â”‚  â”‚         â–¼             â–¼             â–¼              â–¼              â”‚  â”‚
â”‚  â”‚    Show table    Show chart    Show chart    Correlation         â”‚  â”‚
â”‚  â”‚    with all      (time series  (yearly       analysis            â”‚  â”‚
â”‚  â”‚    sectors       stacked)       totals)                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  SECTOR-WISE VIEW (if selected)                                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ Sector Tabs:                                                 â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ [Agriculture] [Industrial] [Commercial] [Domestic] ...       â”‚ â”‚  â”‚
â”‚  â”‚  â”‚       â”‚                                                       â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚          â”‚                                                         â”‚  â”‚
â”‚  â”‚          â–¼                                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ Sub-tabs for selected sector:                                â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ [Data Table] [Line Chart]                                    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚      â”‚            â”‚                                           â”‚ â”‚  â”‚
â”‚  â”‚  â”‚      â–¼            â–¼                                           â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  Show table   Show chart                                     â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  with Year,   (Electricity                                   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  Electricity, vs. economic                                   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  and economic indicators)                                    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  indicators                                                   â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Chart Interactions:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User hovers over chart
       â”‚
       â–¼
Recharts tooltip shows:
  â”œâ”€â”€ Year
  â”œâ”€â”€ Value (in selected unit)
  â””â”€â”€ Sector name (if applicable)

User clicks on chart legend
       â”‚
       â–¼
Toggle sector visibility
       â”‚
       â–¼
Update chart data
(Filter out/in clicked sector)

User selects unit (KWh/MWh/GWh/TWh)
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Conversion logic:          â”‚
â”‚ newValue = value /         â”‚
â”‚   conversionFactor[unit]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Update all charts and tables
with converted values
```

### 4.2 Configure Forecast Modal Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CONFIGURE FORECAST MODAL                               â”‚
â”‚           (components/Demand Forecasting/ConfigureForecast.jsx)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Modal Opens
    â”‚
    â–¼
Load Available Scenarios:
    â”œâ”€â”€ GET /project/scenarios
    â””â”€â”€ Check for duplicate names
    â”‚
    â–¼
Initialize Form State:
    â”œâ”€â”€ scenarioName = ""
    â”œâ”€â”€ targetYear = (current year + 25)
    â”œâ”€â”€ excludeCovidYears = true
    â”œâ”€â”€ sectors = [loaded from parent]
    â””â”€â”€ modelSelections = {} (per sector)
    â”‚
    â–¼
Render Modal:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘            CONFIGURE DEMAND FORECAST                               â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Scenario Name: *                                                  â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ [Enter unique scenario name...]                              â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘       â”‚                                                            â•‘  â”‚
â”‚  â•‘       â”‚ onChange (check duplicates)                               â•‘  â”‚
â”‚  â•‘       â–¼                                                            â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â•‘  â”‚
â”‚  â•‘  â”‚ API: GET /project/scenarios  â”‚                                 â•‘  â”‚
â”‚  â•‘  â”‚ Check if name exists         â”‚                                 â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â•‘  â”‚
â”‚  â•‘             â”‚                                                      â•‘  â”‚
â”‚  â•‘       â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                                               â•‘  â”‚
â”‚  â•‘  Duplicate?        â”‚                                               â•‘  â”‚
â”‚  â•‘       â”‚           â”‚                                                â•‘  â”‚
â”‚  â•‘      YES          NO                                               â•‘  â”‚
â”‚  â•‘       â”‚           â”‚                                                â•‘  â”‚
â”‚  â•‘       â–¼           â–¼                                                â•‘  â”‚
â”‚  â•‘  Show warning  âœ“ Valid                                            â•‘  â”‚
â”‚  â•‘  (user can                                                         â•‘  â”‚
â”‚  â•‘   proceed)                                                         â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Target Year: *                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ [2050]  (Default: current year + 25)                         â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â˜‘ Exclude COVID-19 years (2020-2021) from training               â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  SECTOR MODEL SELECTION                                       â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Agriculture Sector:                                          â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Available Models:                                       â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜‘ MLR (Multiple Linear Regression)                     â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜‘ WAM (Weighted Average Method)                        â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜‘ Time Series (Prophet)                                â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜ Ridge Regression                                      â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜ Lasso Regression                                      â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜ ElasticNet                                            â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚        â”‚                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚        â”‚ If MLR selected:                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚        â–¼                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Select Econometric Parameters:                         â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜‘ GDP (Gross Domestic Product)                         â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜‘ Population                                           â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜ Per Capita Income                                    â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜ Inflation Rate                                       â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜ Urbanization Rate                                    â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ (Loaded from sector data)                              â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚        â”‚ If WAM selected:                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚        â–¼                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Window Size: [5 â–¼]  (years)                           â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Industrial Sector:                                           â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  ... (same structure)                                         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  ... (repeat for all sectors)                                 â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  [Preview Correlation]  (Opens correlation analysis)              â•‘  â”‚
â”‚  â•‘          â”‚                                                         â•‘  â”‚
â”‚  â•‘          â–¼                                                         â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â•‘  â”‚
â”‚  â•‘  â”‚ POST /project/correlation-matrix         â”‚                     â•‘  â”‚
â”‚  â•‘  â”‚ body: { data: sectorData }               â”‚                     â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â•‘  â”‚
â”‚  â•‘             â”‚                                                      â•‘  â”‚
â”‚  â•‘             â–¼                                                      â•‘  â”‚
â”‚  â•‘  Show CorrelationComponent modal                                  â•‘  â”‚
â”‚  â•‘  (Heatmap of variable correlations)                               â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  SUMMARY PANEL                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Total Sectors: 5                                             â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Models Selected: 15 (across all sectors)                     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Estimated Run Time: ~3-5 minutes                             â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  [Cancel]                                       [Run Forecast]    â•‘  â”‚
â”‚  â•‘      â”‚                                                  â”‚          â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚         â”‚                                                  â”‚             â”‚
â”‚         â–¼                                                  â”‚             â”‚
â”‚    Close modal                                             â”‚             â”‚
â”‚                                                            â”‚             â”‚
â”‚                                                            â–¼             â”‚
â”‚                                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                                â”‚ Validate Form:        â”‚ â”‚
â”‚                                                â”‚ - Scenario name set   â”‚ â”‚
â”‚                                                â”‚ - Target year valid   â”‚ â”‚
â”‚                                                â”‚ - At least 1 model    â”‚ â”‚
â”‚                                                â”‚   per sector          â”‚ â”‚
â”‚                                                â”‚ - MLR has parameters  â”‚ â”‚
â”‚                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚              â”‚
â”‚                                                     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”        â”‚
â”‚                                                  Valid?          â”‚        â”‚
â”‚                                                     â”‚           â”‚        â”‚
â”‚                                                    YES          NO        â”‚
â”‚                                                     â”‚           â”‚        â”‚
â”‚                                                     â–¼           â–¼        â”‚
â”‚                                                 Continue    Show error   â”‚
â”‚                                                     â”‚                    â”‚
â”‚                                                     â–¼                    â”‚
â”‚                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                          â”‚ Build Request Payload:     â”‚  â”‚
â”‚                                          â”‚ {                          â”‚  â”‚
â”‚                                          â”‚   projectPath,             â”‚  â”‚
â”‚                                          â”‚   scenarioName,            â”‚  â”‚
â”‚                                          â”‚   targetYear,              â”‚  â”‚
â”‚                                          â”‚   excludeCovidYears,       â”‚  â”‚
â”‚                                          â”‚   sectors: [               â”‚  â”‚
â”‚                                          â”‚     {                      â”‚  â”‚
â”‚                                          â”‚       name,                â”‚  â”‚
â”‚                                          â”‚       selectedMethods,     â”‚  â”‚
â”‚                                          â”‚       mlrParameters,       â”‚  â”‚
â”‚                                          â”‚       wamWindow,           â”‚  â”‚
â”‚                                          â”‚       data: [...]          â”‚  â”‚
â”‚                                          â”‚     },                     â”‚  â”‚
â”‚                                          â”‚     ...                    â”‚  â”‚
â”‚                                          â”‚   ]                        â”‚  â”‚
â”‚                                          â”‚ }                          â”‚  â”‚
â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚                    â”‚
â”‚                                                     â–¼                    â”‚
â”‚                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                          â”‚ POST /project/forecast     â”‚  â”‚
â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚                    â”‚
â”‚                                                     â–¼                    â”‚
â”‚                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                          â”‚ Backend starts subprocess  â”‚  â”‚
â”‚                                          â”‚ Returns 202 Accepted       â”‚  â”‚
â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚                    â”‚
â”‚                                                     â–¼                    â”‚
â”‚                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                          â”‚ Frontend:                  â”‚  â”‚
â”‚                                          â”‚ 1. Close modal             â”‚  â”‚
â”‚                                          â”‚ 2. Call startProcess()     â”‚  â”‚
â”‚                                          â”‚    (NotificationContext)   â”‚  â”‚
â”‚                                          â”‚ 3. Open SSE connection     â”‚  â”‚
â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚                    â”‚
â”‚                                                     â–¼                    â”‚
â”‚                                              (See Section 4.3           â”‚
â”‚                                               for SSE flow)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Forecast Execution & SSE Streaming Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               FORECAST EXECUTION - REAL-TIME STREAMING                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

After POST /project/forecast returns 202:
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONTEND: NotificationContext.startProcess()                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  1. Register process:                                                    â”‚
â”‚     processes['demand'] = {                                              â”‚
â”‚       type: 'demand',                                                    â”‚
â”‚       status: 'running',                                                 â”‚
â”‚       progress: 0,                                                       â”‚
â”‚       logs: [],                                                          â”‚
â”‚       startTime: Date.now(),                                             â”‚
â”‚       scenarioName: 'Scenario1'                                          â”‚
â”‚     }                                                                    â”‚
â”‚                                                                           â”‚
â”‚  2. Open SSE connection:                                                 â”‚
â”‚     const eventSource = new EventSource('/project/forecast-progress')    â”‚
â”‚                                                                           â”‚
â”‚  3. Register event listeners:                                            â”‚
â”‚     eventSource.addEventListener('progress', handleProgressEvent)        â”‚
â”‚     eventSource.addEventListener('sector_completed', handleSectorDone)   â”‚
â”‚     eventSource.addEventListener('end', handleCompletionEvent)           â”‚
â”‚                                                                           â”‚
â”‚  4. Show ProcessModal                                                    â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ SSE Stream Active
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND: Subprocess Execution                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  Python Script: models/forecasting.py                                    â”‚
â”‚                                                                           â”‚
â”‚  For each sector:                                                        â”‚
â”‚      â”‚                                                                    â”‚
â”‚      â”œâ”€â”€â–¶ Load sector data                                               â”‚
â”‚      â”‚    Write to queue: {type: 'progress', message: 'Loading data...'}â”‚
â”‚      â”‚                                                                    â”‚
â”‚      â”œâ”€â”€â–¶ Train selected models                                          â”‚
â”‚      â”‚    For each model (MLR, WAM, etc.):                               â”‚
â”‚      â”‚        â”œâ”€â”€ Fit model on historical data                           â”‚
â”‚      â”‚        â”œâ”€â”€ Write to queue: {type: 'progress',                     â”‚
â”‚      â”‚        â”‚                    sector: 'Agriculture',                â”‚
â”‚      â”‚        â”‚                    message: 'Training MLR...',           â”‚
â”‚      â”‚        â”‚                    progress: 25}                         â”‚
â”‚      â”‚        â”œâ”€â”€ Predict future years                                   â”‚
â”‚      â”‚        â””â”€â”€ Calculate RÂ² score                                     â”‚
â”‚      â”‚                                                                    â”‚
â”‚      â”œâ”€â”€â–¶ Save sector results to Excel                                   â”‚
â”‚      â”‚    Write to queue: {type: 'sector_completed',                     â”‚
â”‚      â”‚                     sector: 'Agriculture',                        â”‚
â”‚      â”‚                     result: {models_trained: 5, best_r2: 0.95}}   â”‚
â”‚      â”‚                                                                    â”‚
â”‚      â””â”€â”€â–¶ Move to next sector                                            â”‚
â”‚                                                                           â”‚
â”‚  After all sectors:                                                      â”‚
â”‚      â”œâ”€â”€â–¶ Save scenario metadata (scenario_meta.json)                    â”‚
â”‚      â””â”€â”€â–¶ Write to queue: {type: 'end',                                  â”‚
â”‚                             status: 'completed',                         â”‚
â”‚                             result: {sectors: 5, time: '2m 15s'}}        â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Events sent via SSE
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONTEND: Event Handlers                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  handleProgressEvent(event):                                             â”‚
â”‚      data = JSON.parse(event.data)                                       â”‚
â”‚      updateProgress('demand', {                                          â”‚
â”‚          progress: data.progress,                                        â”‚
â”‚          logs: [...currentLogs, {                                        â”‚
â”‚              timestamp: new Date().toLocaleTimeString(),                 â”‚
â”‚              message: data.message,                                      â”‚
â”‚              level: 'info'                                               â”‚
â”‚          }]                                                              â”‚
â”‚      })                                                                  â”‚
â”‚                                                                           â”‚
â”‚  handleSectorDone(event):                                                â”‚
â”‚      data = JSON.parse(event.data)                                       â”‚
â”‚      updateProgress('demand', {                                          â”‚
â”‚          logs: [...currentLogs, {                                        â”‚
â”‚              timestamp: new Date().toLocaleTimeString(),                 â”‚
â”‚              message: `âœ“ ${data.sector} completed`,                      â”‚
â”‚              level: 'success'                                            â”‚
â”‚          }]                                                              â”‚
â”‚      })                                                                  â”‚
â”‚                                                                           â”‚
â”‚  handleCompletionEvent(event):                                           â”‚
â”‚      data = JSON.parse(event.data)                                       â”‚
â”‚      endProcess('demand', data.status)  // 'completed' or 'failed'       â”‚
â”‚      eventSource.close()                                                 â”‚
â”‚      if (data.status === 'completed') {                                  â”‚
â”‚          showSuccessNotification()                                       â”‚
â”‚          refreshPageData()  // Reload scenarios, sector data            â”‚
â”‚      } else {                                                            â”‚
â”‚          showErrorNotification(data.error)                               â”‚
â”‚      }                                                                   â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ProcessModal UI Updates (Real-time)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  ğŸ”„ Demand Forecast - Running                     [Minimize] [Ã—]  â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Scenario: Scenario1                                              â•‘  â”‚
â”‚  â•‘  Elapsed Time: 00:02:15                                           â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Progress: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] 75%                             â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  Logs:                                        [Copy Logs]     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:15 - Loading Agriculture sector data...          â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:20 - Training MLR model (RÂ² = 0.93)              â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:25 - Training WAM model (RÂ² = 0.89)              â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:30 - âœ“ Agriculture completed (5 models)          â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:35 - Loading Industrial sector data...           â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:40 - Training MLR model (RÂ² = 0.91)              â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ ...                                         â†‘ Auto-scroll â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  [Stop Forecast]                                                  â•‘  â”‚
â”‚  â•‘         â”‚                                                          â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚            â”‚                                                             â”‚
â”‚            â–¼                                                             â”‚
â”‚    Send cancellation request                                            â”‚
â”‚    (Not yet implemented in current version)                             â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

On Completion:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Forecast Completed          â”‚
â”‚ âœ“ 5 sectors processed       â”‚
â”‚ âœ“ 25 models trained         â”‚
â”‚ âœ“ Results saved             â”‚
â”‚ Total Time: 2m 15s          â”‚
â”‚                             â”‚
â”‚ [View Results â†’]            â”‚
â”‚        â”‚                    â”‚
â”‚        â–¼                    â”‚
â”‚ Navigate to Demand          â”‚
â”‚ Visualization page          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.4 Demand Visualization Page Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DEMAND VISUALIZATION PAGE                             â”‚
â”‚              (views/Demand Forecasting/DemandVisualization.jsx)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Page Mount
    â”‚
    â–¼
Load Scenarios:
    â”œâ”€â”€ GET /project/scenarios
    â””â”€â”€ setState(scenarios)
    â”‚
    â–¼
User Selects Scenario from Dropdown
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Load Scenario Data:                                                     â”‚
â”‚                                                                         â”‚
â”‚ 1. GET /project/scenarios/{scenario}/meta                               â”‚
â”‚    â†’ Get targetYear, excludeCovidYears, etc.                           â”‚
â”‚                                                                         â”‚
â”‚ 2. GET /project/scenarios/{scenario}/sectors                            â”‚
â”‚    â†’ List of sector files (Agriculture.xlsx, Industrial.xlsx, ...)     â”‚
â”‚                                                                         â”‚
â”‚ 3. GET /project/scenarios/{scenario}/models                             â”‚
â”‚    â†’ Available models per sector {Agriculture: [MLR, WAM, ...], ...}   â”‚
â”‚                                                                         â”‚
â”‚ 4. Foreach sector:                                                      â”‚
â”‚    GET /project/scenarios/{scenario}/sectors/{sectorName}               â”‚
â”‚    params: {projectPath, startYear, endYear}                           â”‚
â”‚    â†’ Get forecast data [{Year, MLR, WAM, Time Series, ...}]            â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Render UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TOP CONTROLS                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ Scenario    â”‚  â”‚ Start    â”‚  â”‚ End      â”‚  â”‚ Demand Type  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Selector    â”‚  â”‚ Year     â”‚  â”‚ Year     â”‚  â”‚ [Gross â–¼]    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ [Scen1 â–¼]   â”‚  â”‚ [2025]   â”‚  â”‚ [2050]   â”‚  â”‚ - Gross      â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚ - Net        â”‚  â”‚  â”‚
â”‚  â”‚        â”‚               â”‚              â”‚        â”‚ - On-Grid    â”‚  â”‚  â”‚
â”‚  â”‚        â”‚               â”‚              â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚        â”‚               â”‚              â”‚                          â”‚  â”‚
â”‚  â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â–¶ Filter data        â”‚  â”‚
â”‚  â”‚                                            by year range         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ACTION BUTTONS                                                    â”‚  â”‚
â”‚  â”‚  [Model Selection] [Compare Scenario] [Save Consolidated Results] â”‚  â”‚
â”‚  â”‚         â”‚                  â”‚                      â”‚                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                  â”‚                      â”‚                   â”‚
â”‚            â–¼                  â–¼                      â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ModelSelection    â”‚  â”‚CompareScenario   â”‚  â”‚ Generate & Save     â”‚  â”‚
â”‚  â”‚ Modal Opens       â”‚  â”‚ Modal Opens      â”‚  â”‚ Consolidated Data   â”‚  â”‚
â”‚  â”‚                   â”‚  â”‚                  â”‚  â”‚                     â”‚  â”‚
â”‚  â”‚ (See 4.5)         â”‚  â”‚ (See 4.6)        â”‚  â”‚ (See 4.7)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  SECTOR TABS                                                       â”‚  â”‚
â”‚  â”‚  [Agriculture] [Industrial] [Commercial] [Domestic] ... [T&D] [âŠ•] â”‚  â”‚
â”‚  â”‚       â”‚                                                       â”‚    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚                                                       â”‚       â”‚
â”‚          â–¼                                                       â–¼       â”‚
â”‚  Regular Sector View                              Consolidated View    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Historical + Forecast Data              â”‚    â”‚ All Sectors      â”‚   â”‚
â”‚  â”‚                                          â”‚    â”‚ Stacked          â”‚   â”‚
â”‚  â”‚  Line Chart:                             â”‚    â”‚                  â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚ Line Chart:      â”‚   â”‚
â”‚  â”‚  â”‚ Historical â”‚ Forecast Start (â†“)       â”‚    â”‚ Shows total      â”‚   â”‚
â”‚  â”‚  â”‚ (solid)    â”‚ (dashed lines)           â”‚    â”‚ demand over time â”‚   â”‚
â”‚  â”‚  â”‚            â”‚                          â”‚    â”‚                  â”‚   â”‚
â”‚  â”‚  â”‚            â”‚ â”Œâ”€ MLR (blue)            â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¼â”€ WAM (green)           â”‚                           â”‚
â”‚  â”‚  â”‚            â”‚ â””â”€ Time Series (red)     â”‚                           â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                           â”‚
â”‚  â”‚                                          â”‚                           â”‚
â”‚  â”‚  Legend: (click to toggle)               â”‚                           â”‚
â”‚  â”‚  [MLR] [WAM] [Time Series] ...           â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  T&D LOSSES TAB (Special)                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ Configure T&D Loss Percentages:                              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ Year-by-Year Input:                                   â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                                                        â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ 2025: [10%]                                           â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ 2030: [12%]                                           â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ 2035: [___%]  (Interpolated)                          â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ 2040: [15%]                                           â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                                                        â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ [Add Year] [Save T&D Losses]                          â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                â”‚                                       â”‚   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                   â”‚                                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                   â–¼                                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚        POST /project/scenarios/{scenario}/td-losses           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚        body: {projectPath, lossPoints: [{year, loss}, ...]}   â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Chart Interactions:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User hovers over chart point
       â”‚
       â–¼
Show tooltip:
  â”œâ”€â”€ Year: 2035
  â”œâ”€â”€ Model: MLR
  â”œâ”€â”€ Value: 1,234.56 MWh
  â””â”€â”€ Sector: Agriculture

User clicks legend item
       â”‚
       â–¼
Toggle model visibility
       â”‚
       â”œâ”€â”€â–¶ If visible: Hide model line
       â””â”€â”€â–¶ If hidden: Show model line
       â”‚
       â–¼
Update chart (filter data)

User changes year range
       â”‚
       â–¼
Filter data:
  data.filter(d => d.Year >= startYear && d.Year <= endYear)
       â”‚
       â–¼
Update all charts and tables
```

### 4.5 Model Selection Modal Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       MODEL SELECTION MODAL                                â”‚
â”‚              (components/Demand Forecasting/ModelSelection.jsx)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User clicks "Model Selection" button
    â”‚
    â–¼
Load Available Models:
    â”œâ”€â”€ GET /project/scenarios/{scenario}/models
    â””â”€â”€ Response: {Agriculture: [MLR, WAM, ...], Industrial: [...], ...}
    â”‚
    â–¼
Initialize Selection State:
    â”œâ”€â”€ selectedModels = {} (per sector)
    â””â”€â”€ Load previous selections if exist
    â”‚
    â–¼
Render Modal:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘            SELECT MODELS FOR VISUALIZATION                         â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Choose which forecast models to display in charts:               â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  AGRICULTURE SECTOR                                          â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Available Models:                                       â”‚ â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜‘ MLR (Multiple Linear Regression) - RÂ²: 0.93         â”‚ â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜‘ WAM (Weighted Average Method) - RÂ²: 0.89            â”‚ â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜ Time Series (Prophet) - RÂ²: 0.91                    â”‚ â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜ Ridge Regression - RÂ²: 0.92                         â”‚ â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜ Lasso Regression - RÂ²: 0.88                         â”‚ â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                              â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  [Select All] [Deselect All] [Select Best (RÂ² > 0.9)]       â”‚ â•‘  â”‚
â”‚  â•‘  â”‚       â”‚             â”‚                    â”‚                   â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘          â”‚             â”‚                    â”‚                     â•‘  â”‚
â”‚  â•‘          â–¼             â–¼                    â–¼                     â•‘  â”‚
â”‚  â•‘   Check all boxes  Uncheck all    Check models with RÂ² > 0.9     â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  INDUSTRIAL SECTOR                                           â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  ... (same structure)                                        â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  ... (repeat for all sectors)                                     â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  SUMMARY                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Total Sectors: 5                                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Total Models Selected: 12                                   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Models per Sector:                                          â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    - Agriculture: 2 models                                   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    - Industrial: 3 models                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    - Commercial: 2 models                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    - Domestic: 3 models                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    - Others: 2 models                                        â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  [Cancel]                                              [Apply]    â•‘  â”‚
â”‚  â•‘      â”‚                                                     â”‚       â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•  â”‚
â”‚         â”‚                                                     â”‚          â”‚
â”‚         â–¼                                                     â”‚          â”‚
â”‚    Close modal                                                â”‚          â”‚
â”‚    No changes                                                 â”‚          â”‚
â”‚                                                               â–¼          â”‚
â”‚                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                                    â”‚ Validate:        â”‚  â”‚
â”‚                                                    â”‚ - At least 1     â”‚  â”‚
â”‚                                                    â”‚   model per      â”‚  â”‚
â”‚                                                    â”‚   sector         â”‚  â”‚
â”‚                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚            â”‚
â”‚                                                       â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”      â”‚
â”‚                                                    Valid?          â”‚      â”‚
â”‚                                                       â”‚           â”‚      â”‚
â”‚                                                      YES          NO      â”‚
â”‚                                                       â”‚           â”‚      â”‚
â”‚                                                       â–¼           â–¼      â”‚
â”‚                                                  Continue    Show error  â”‚
â”‚                                                       â”‚                  â”‚
â”‚                                                       â–¼                  â”‚
â”‚                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                            â”‚ Update parent state:    â”‚   â”‚
â”‚                                            â”‚ setSelectedModels({     â”‚   â”‚
â”‚                                            â”‚   Agriculture: [MLR,    â”‚   â”‚
â”‚                                            â”‚                WAM],    â”‚   â”‚
â”‚                                            â”‚   Industrial: [...]     â”‚   â”‚
â”‚                                            â”‚ })                      â”‚   â”‚
â”‚                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                       â”‚                  â”‚
â”‚                                                       â–¼                  â”‚
â”‚                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                            â”‚ Save to sessionStorage  â”‚   â”‚
â”‚                                            â”‚ (persist selections)    â”‚   â”‚
â”‚                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                       â”‚                  â”‚
â”‚                                                       â–¼                  â”‚
â”‚                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                            â”‚ Reload sector data with â”‚   â”‚
â”‚                                            â”‚ selected models only    â”‚   â”‚
â”‚                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                       â”‚                  â”‚
â”‚                                                       â–¼                  â”‚
â”‚                                            Update all charts to show     â”‚
â”‚                                            only selected model lines     â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Selection Logic Flow:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User clicks checkbox for a model
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Is box checked?      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
 YES        NO
  â”‚          â”‚
  â–¼          â–¼
Add to    Remove from
selection   selection
  â”‚          â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
Update selectedModels state
       â”‚
       â–¼
Re-render checkbox (visual feedback)
       â”‚
       â–¼
Update summary panel counts
```

### 4.6 Compare Scenario Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      COMPARE SCENARIO MODAL                                â”‚
â”‚           (components/Demand Forecasting/CompareScenarioModal.jsx)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User clicks "Compare Scenario" button
    â”‚
    â–¼
Load Available Scenarios:
    â”œâ”€â”€ GET /project/scenarios
    â””â”€â”€ Filter out currently selected scenario
    â”‚
    â–¼
Render Modal:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘            COMPARE SCENARIOS                                       â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Current Scenario: Base_Scenario_2025                             â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Select a scenario to compare with:                               â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ Available Scenarios:                                          â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ â—‹ High_Growth_Scenario                                        â”‚ â•‘  â”‚
â”‚  â•‘  â”‚   Created: 2025-11-10 | Target Year: 2050                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚   Sectors: 5 | Models: 15                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ â— Low_Growth_Scenario                                         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚   Created: 2025-11-12 | Target Year: 2045                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚   Sectors: 5 | Models: 12                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ â—‹ Conservative_Scenario                                       â”‚ â•‘  â”‚
â”‚  â•‘  â”‚   Created: 2025-11-13 | Target Year: 2050                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚   Sectors: 5 | Models: 10                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  [Cancel]                                           [Compare]     â•‘  â”‚
â”‚  â•‘      â”‚                                                   â”‚         â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•  â”‚
â”‚         â”‚                                                   â”‚            â”‚
â”‚         â–¼                                                   â”‚            â”‚
â”‚    Close modal                                              â”‚            â”‚
â”‚                                                             â–¼            â”‚
â”‚                                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                                                  â”‚ Validate:        â”‚    â”‚
â”‚                                                  â”‚ - Scenario       â”‚    â”‚
â”‚                                                  â”‚   selected       â”‚    â”‚
â”‚                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                           â”‚              â”‚
â”‚                                                     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”        â”‚
â”‚                                                  Valid?          â”‚        â”‚
â”‚                                                     â”‚           â”‚        â”‚
â”‚                                                    YES          NO        â”‚
â”‚                                                     â”‚           â”‚        â”‚
â”‚                                                     â–¼           â–¼        â”‚
â”‚                                                 Continue    Show error   â”‚
â”‚                                                     â”‚                    â”‚
â”‚                                                     â–¼                    â”‚
â”‚                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                                          â”‚ Enable Comparison Mode:  â”‚    â”‚
â”‚                                          â”‚ - Set comparisonScenario â”‚    â”‚
â”‚                                          â”‚ - Load comparison data   â”‚    â”‚
â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                     â”‚                    â”‚
â”‚                                                     â–¼                    â”‚
â”‚                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                                          â”‚ Load Comparison Data:    â”‚    â”‚
â”‚                                          â”‚ For each sector:         â”‚    â”‚
â”‚                                          â”‚   GET /scenarios/        â”‚    â”‚
â”‚                                          â”‚   {compScenario}/        â”‚    â”‚
â”‚                                          â”‚   sectors/{sector}       â”‚    â”‚
â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                     â”‚                    â”‚
â”‚                                                     â–¼                    â”‚
â”‚                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                                          â”‚ Update Charts:           â”‚    â”‚
â”‚                                          â”‚ - Add comparison lines   â”‚    â”‚
â”‚                                          â”‚ - Different colors/style â”‚    â”‚
â”‚                                          â”‚ - Update legend          â”‚    â”‚
â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                     â”‚                    â”‚
â”‚                                                     â–¼                    â”‚
â”‚                                          Show "Stop Comparison" button   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Comparison Chart View:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agriculture Sector - Model Comparison                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Chart:                                                             â”‚ â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â”‚     MW                                                             â”‚ â”‚
â”‚  â”‚     â”‚                                                              â”‚ â”‚
â”‚  â”‚ 500 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚ â”‚
â”‚  â”‚     â”‚                                      â•±â”€â”€â”€ Low Growth (WAM)  â”‚ â”‚
â”‚  â”‚ 400 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•±â”€â”€â”€â”€â•±                        â”‚ â”‚
â”‚  â”‚     â”‚                          â•±â”€â”€â”€â”€â•±                              â”‚ â”‚
â”‚  â”‚ 300 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â•±â”€â”€â”€â”€â•±  â† Base Scenario (MLR)            â”‚ â”‚
â”‚  â”‚     â”‚              â•±â”€â”€â”€â”€â•±                                          â”‚ â”‚
â”‚  â”‚ 200 â”œâ”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â•±                                                â”‚ â”‚
â”‚  â”‚     â”‚â”€â”€â”€â”€â”€â”€â”€â”€                                                      â”‚ â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€      â”‚ â”‚
â”‚  â”‚        2020  2025  2030  2035  2040  2045  2050                   â”‚ â”‚
â”‚  â”‚                                                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                         â”‚
â”‚  Legend:                                                                â”‚
â”‚  â”€â”€â”€ Base_Scenario_2025 (MLR)  [solid blue]                            â”‚
â”‚  â”€â”€â”€ Low_Growth_Scenario (WAM) [dashed green]                          â”‚
â”‚                                                                         â”‚
â”‚  [Stop Comparison]                                                      â”‚
â”‚         â”‚                                                               â”‚
â”‚         â–¼                                                               â”‚
â”‚  Disable comparison mode                                                â”‚
â”‚  Remove comparison lines                                                â”‚
â”‚  Reset to single scenario view                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.7 Save Consolidated Results Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SAVE CONSOLIDATED RESULTS FLOW                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User clicks "Save Consolidated Results" button
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Validate Prerequisites:     â”‚
â”‚ - Scenario selected         â”‚
â”‚ - Models selected for all   â”‚
â”‚   sectors                   â”‚
â”‚ - Year range valid          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
 Valid?        â”‚
    â”‚         â”‚
   YES        NO
    â”‚         â”‚
    â–¼         â–¼
Continue   Show error:
    â”‚      "Please select
    â”‚       models first"
    â–¼
Show Confirmation Dialog:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘            SAVE CONSOLIDATED RESULTS                               â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  This will generate and save consolidated forecast results:       â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Scenario: Base_Scenario_2025                                     â•‘  â”‚
â”‚  â•‘  Year Range: 2025 - 2050                                          â•‘  â”‚
â”‚  â•‘  Demand Type: [Gross â–¼]  (Gross / Net / On-Grid)                 â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Selected Models:                                                 â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚ â€¢ Agriculture: MLR                                           â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ â€¢ Industrial: WAM                                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ â€¢ Commercial: Time Series                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ â€¢ Domestic: MLR                                              â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ â€¢ Others: Ridge                                              â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Output file: Consolidated_Results.xlsx                           â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  [Cancel]                                          [Generate]     â•‘  â”‚
â”‚  â•‘      â”‚                                                  â”‚          â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚         â”‚                                                  â”‚             â”‚
â”‚         â–¼                                                  â”‚             â”‚
â”‚    Close dialog                                            â”‚             â”‚
â”‚                                                            â–¼             â”‚
â”‚                                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                                 â”‚ Build Request:       â”‚ â”‚
â”‚                                                 â”‚ {                    â”‚ â”‚
â”‚                                                 â”‚   projectPath,       â”‚ â”‚
â”‚                                                 â”‚   scenarioName,      â”‚ â”‚
â”‚                                                 â”‚   startYear,         â”‚ â”‚
â”‚                                                 â”‚   endYear,           â”‚ â”‚
â”‚                                                 â”‚   selections: {      â”‚ â”‚
â”‚                                                 â”‚     Agriculture:MLR, â”‚ â”‚
â”‚                                                 â”‚     ...              â”‚ â”‚
â”‚                                                 â”‚   },                 â”‚ â”‚
â”‚                                                 â”‚   demandType: 'gross'â”‚ â”‚
â”‚                                                 â”‚ }                    â”‚ â”‚
â”‚                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚             â”‚
â”‚                                                            â–¼             â”‚
â”‚                                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                                 â”‚ API Call:            â”‚ â”‚
â”‚                                                 â”‚ POST /scenarios/     â”‚ â”‚
â”‚                                                 â”‚ {scenario}/          â”‚ â”‚
â”‚                                                 â”‚ consolidated         â”‚ â”‚
â”‚                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚             â”‚
â”‚                                                            â–¼             â”‚
â”‚                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                            â”‚ Backend Processing:      â”‚  â”‚
â”‚                                            â”‚ 1. Read selected models  â”‚  â”‚
â”‚                                            â”‚    from sector files     â”‚  â”‚
â”‚                                            â”‚ 2. Apply solar share     â”‚  â”‚
â”‚                                            â”‚    (if net/onGrid)       â”‚  â”‚
â”‚                                            â”‚ 3. Calculate T&D losses  â”‚  â”‚
â”‚                                            â”‚    (interpolated)        â”‚  â”‚
â”‚                                            â”‚ 4. Compute totals based  â”‚  â”‚
â”‚                                            â”‚    on demand type        â”‚  â”‚
â”‚                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                       â”‚                  â”‚
â”‚                                                       â–¼                  â”‚
â”‚                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                            â”‚ Return Data:             â”‚  â”‚
â”‚                                            â”‚ [                        â”‚  â”‚
â”‚                                            â”‚   {Year: 2025,           â”‚  â”‚
â”‚                                            â”‚    Agriculture: 100,     â”‚  â”‚
â”‚                                            â”‚    Industrial: 200,      â”‚  â”‚
â”‚                                            â”‚    ...,                  â”‚  â”‚
â”‚                                            â”‚    Total: 500},          â”‚  â”‚
â”‚                                            â”‚   ...                    â”‚  â”‚
â”‚                                            â”‚ ]                        â”‚  â”‚
â”‚                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                       â”‚                  â”‚
â”‚                                                 â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”            â”‚
â”‚                                              Success?        â”‚            â”‚
â”‚                                                 â”‚           â”‚            â”‚
â”‚                                                YES          NO            â”‚
â”‚                                                 â”‚           â”‚            â”‚
â”‚                                                 â–¼           â–¼            â”‚
â”‚                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   Show error      â”‚
â”‚                                          â”‚ Save to  â”‚   notification    â”‚
â”‚                                          â”‚ Excel:   â”‚                   â”‚
â”‚                                          â”‚ POST     â”‚                   â”‚
â”‚                                          â”‚ /save-   â”‚                   â”‚
â”‚                                          â”‚ consol.. â”‚                   â”‚
â”‚                                          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                               â”‚                         â”‚
â”‚                                               â–¼                         â”‚
â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                                    â”‚ Show Success:       â”‚              â”‚
â”‚                                    â”‚ âœ“ File saved at:    â”‚              â”‚
â”‚                                    â”‚ results/demand_     â”‚              â”‚
â”‚                                    â”‚ forecasts/          â”‚              â”‚
â”‚                                    â”‚ {scenario}/         â”‚              â”‚
â”‚                                    â”‚ Consolidated_       â”‚              â”‚
â”‚                                    â”‚ Results.xlsx        â”‚              â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Demand Type Calculation Logic:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Demand Type Selected?   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚        â”‚
  GROSS      NET    ON-GRID
    â”‚         â”‚        â”‚
    â–¼         â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total = â”‚ â”‚Net= â”‚ â”‚ OnGrid = â”‚
â”‚ Sum all â”‚ â”‚Grossâ”‚ â”‚ Net +    â”‚
â”‚ sectors â”‚ â”‚minusâ”‚ â”‚ T&D      â”‚
â”‚    +    â”‚ â”‚solarâ”‚ â”‚ losses   â”‚
â”‚ T&D lossâ”‚ â”‚shareâ”‚ â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚         â”‚        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
    Apply to all years
    in consolidated data
```

---

## 5. LOAD PROFILES MODULE FLOWS

### 5.1 Generate Profiles Page - 4-Step Wizard Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GENERATE PROFILES PAGE                              â”‚
â”‚                  (views/Load Profiles/GenerateProfiles.jsx)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Page Mount
    â”‚
    â–¼
Initialize Wizard State:
    â”œâ”€â”€ currentStep = 1
    â”œâ”€â”€ profileName = ""
    â”œâ”€â”€ method = null
    â”œâ”€â”€ dataSource = null
    â”œâ”€â”€ constraints = null
    â””â”€â”€ years = {start: null, end: null}
    â”‚
    â–¼
Load Data in Parallel:
    â”œâ”€â”€ GET /project/available-base-years
    â””â”€â”€ GET /project/available-scenarios
    â”‚
    â–¼
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 1: METHOD & TIMEFRAME SELECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1 OF 4: Select Method & Timeframe                     [â”â”â”â–‘â–‘â–‘â–‘â–‘]  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                                                                         â”‚
â”‚  Profile Name: *                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Enter unique profile name...]                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”‚ onChange (check duplicates)                                    â”‚
â”‚       â–¼                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚  â”‚ API: GET /check-profile-exists   â”‚                                  â”‚
â”‚  â”‚ params: {profileName}            â”‚                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚          â”‚                                                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                                                         â”‚
â”‚  Exists?      â”‚                                                         â”‚
â”‚     â”‚        â”‚                                                          â”‚
â”‚    YES       NO                                                         â”‚
â”‚     â”‚        â”‚                                                          â”‚
â”‚     â–¼        â–¼                                                          â”‚
â”‚  Show      âœ“ Valid                                                     â”‚
â”‚  warning                                                                â”‚
â”‚                                                                         â”‚
â”‚  Select Generation Method:                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“Š BASE PROFILE METHOD                                    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ Use historical hourly patterns from a base year          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ and scale to future demand projections.                  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Fast & straightforward                                 â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Preserves actual load patterns                         â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Requires base year selection                           â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ [Select] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                     â”‚              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“ˆ STL DECOMPOSITION METHOD                      â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ Advanced method using Seasonal-Trend-Loess      â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ decomposition for enhanced accuracy.            â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Handles seasonal variations better            â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ More accurate for long-term forecasts         â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Requires multiple historical years            â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ [Select] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚                                                              â”‚
â”‚          â–¼                                                              â”‚
â”‚  Set method state                                                      â”‚
â”‚                                                                         â”‚
â”‚  Forecast Period:                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Start Year: [2025 â–¼]    End Year: [2050 â–¼]                      â”‚  â”‚
â”‚  â”‚ (Dropdown from available scenarios)                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  [Cancel]                                                    [Next â†’]  â”‚
â”‚      â”‚                                                           â”‚      â”‚
â”‚      â–¼                                                           â”‚      â”‚
â”‚  Navigate Home                                                  â”‚      â”‚
â”‚                                                                  â–¼      â”‚
â”‚                                                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                                       â”‚ Validate:    â”‚  â”‚
â”‚                                                       â”‚ - Name set   â”‚  â”‚
â”‚                                                       â”‚ - Method sel.â”‚  â”‚
â”‚                                                       â”‚ - Years validâ”‚  â”‚
â”‚                                                       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚          â”‚
â”‚                                                        â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”    â”‚
â”‚                                                     Valid?          â”‚    â”‚
â”‚                                                        â”‚           â”‚    â”‚
â”‚                                                       YES          NO    â”‚
â”‚                                                        â”‚           â”‚    â”‚
â”‚                                                        â–¼           â–¼    â”‚
â”‚                                                   Step = 2    Show errorâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 2: DATA SOURCE SELECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2 OF 4: Select Data Source                            [â”â”â”â”â”â–‘â–‘â–‘]  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                                                                         â”‚
â”‚  Choose the source for demand forecast data:                           â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“„ TEMPLATE SHEET                                         â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ Use "Master" sheet from input_demand_file.xlsx           â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Quick setup (no scenario needed)                       â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Limited to template data only                          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ [Select] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                     â”‚              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“Š PROJECTION SCENARIO                           â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ Use consolidated results from forecast scenario â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Uses your custom forecast                     â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Includes all scenario assumptions             â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Requires completed forecast                   â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ [Select] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚                                                              â”‚
â”‚          â–¼                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚  â”‚ Is PROJECTION SCENARIO selected? â”‚                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚          â”‚                                                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                                                         â”‚
â”‚    YES        NO                                                        â”‚
â”‚     â”‚         â”‚                                                         â”‚
â”‚     â–¼         â–¼                                                         â”‚
â”‚  Show      Hide                                                        â”‚
â”‚  scenario  scenario                                                    â”‚
â”‚  dropdown  selector                                                    â”‚
â”‚     â”‚                                                                   â”‚
â”‚     â–¼                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Select Scenario:                                                  â”‚  â”‚
â”‚  â”‚ [Base_Scenario_2025 â–¼]                                           â”‚  â”‚
â”‚  â”‚  - Base_Scenario_2025 (has consolidated âœ“)                       â”‚  â”‚
â”‚  â”‚  - High_Growth (has consolidated âœ“)                              â”‚  â”‚
â”‚  â”‚  - Test_Scenario (no consolidated âœ—) [disabled]                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  [â† Back]                                                    [Next â†’]  â”‚
â”‚      â”‚                                                           â”‚      â”‚
â”‚      â–¼                                                           â”‚      â”‚
â”‚  Step = 1                                                        â”‚      â”‚
â”‚                                                                  â–¼      â”‚
â”‚                                                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                                       â”‚ Validate:    â”‚  â”‚
â”‚                                                       â”‚ - Source sel.â”‚  â”‚
â”‚                                                       â”‚ - Scenario   â”‚  â”‚
â”‚                                                       â”‚   (if needed)â”‚  â”‚
â”‚                                                       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚          â”‚
â”‚                                                              â–¼          â”‚
â”‚                                                          Step = 3       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 3: MONTHLY CONSTRAINTS SELECTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 3 OF 4: Monthly Constraints                       [â”â”â”â”â”â”â”â–‘â–‘]     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                                                                         â”‚
â”‚  Optional: Apply monthly energy constraints                            â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ”„ AUTO-CALCULATE                                         â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ Automatically distribute annual demand across months     â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ based on historical patterns.                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Recommended for most cases                             â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ No manual input needed                                 â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ [Select] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                     â”‚              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“‹ EXCEL FILE                                    â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ Use monthly totals from an Excel file           â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Upload monthly_constraints.xlsx               â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Format: columns for each month                â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ [Select] [Browse File]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                     â”‚              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ âŠ˜ NONE                                           â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ Skip monthly constraints                        â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Profile will match annual totals only         â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                  â”‚          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ [Select] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  [â† Back]                                                    [Next â†’]  â”‚
â”‚      â”‚                                                           â”‚      â”‚
â”‚      â–¼                                                           â–¼      â”‚
â”‚  Step = 2                                                   Step = 4   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
STEP 4: REVIEW & GENERATE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 4 OF 4: Review & Generate                         [â”â”â”â”â”â”â”â”â”]    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                                                                         â”‚
â”‚  Review your configuration:                                            â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ“‹ PROFILE CONFIGURATION SUMMARY                                 â”‚  â”‚
â”‚  â”‚                                                                    â”‚  â”‚
â”‚  â”‚  Profile Name: Load_Profile_2025_2050                            â”‚  â”‚
â”‚  â”‚  Method: Base Profile Method                                     â”‚  â”‚
â”‚  â”‚  Base Year: FY2024                                               â”‚  â”‚
â”‚  â”‚  Forecast Period: 2025 - 2050 (26 years)                         â”‚  â”‚
â”‚  â”‚  Data Source: Projection Scenario (Base_Scenario_2025)           â”‚  â”‚
â”‚  â”‚  Monthly Constraints: Auto-Calculate                             â”‚  â”‚
â”‚  â”‚                                                                    â”‚  â”‚
â”‚  â”‚  Output:                                                          â”‚  â”‚
â”‚  â”‚  â€¢ File: results/load_profiles/Load_Profile_2025_2050.xlsx       â”‚  â”‚
â”‚  â”‚  â€¢ Total Hours: 227,760 (26 years Ã— 8760 hours)                  â”‚  â”‚
â”‚  â”‚  â€¢ Analysis Sheets: Monthly, Seasonal, Daily, Load Duration      â”‚  â”‚
â”‚  â”‚                                                                    â”‚  â”‚
â”‚  â”‚  Estimated Generation Time: ~2-3 minutes                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  [â† Back]                                          [Generate Profile]  â”‚
â”‚      â”‚                                                      â”‚           â”‚
â”‚      â–¼                                                      â”‚           â”‚
â”‚  Step = 3                                                   â”‚           â”‚
â”‚                                                             â–¼           â”‚
â”‚                                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                                  â”‚ Build Config:    â”‚   â”‚
â”‚                                                  â”‚ {                â”‚   â”‚
â”‚                                                  â”‚   profileName,   â”‚   â”‚
â”‚                                                  â”‚   method,        â”‚   â”‚
â”‚                                                  â”‚   startYear,     â”‚   â”‚
â”‚                                                  â”‚   endYear,       â”‚   â”‚
â”‚                                                  â”‚   dataSource,    â”‚   â”‚
â”‚                                                  â”‚   scenario,      â”‚   â”‚
â”‚                                                  â”‚   constraints    â”‚   â”‚
â”‚                                                  â”‚ }                â”‚   â”‚
â”‚                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚             â”‚
â”‚                                                           â–¼             â”‚
â”‚                                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                                â”‚ POST /generate-      â”‚ â”‚
â”‚                                                â”‚      profile         â”‚ â”‚
â”‚                                                â”‚ Returns 202 Accepted â”‚ â”‚
â”‚                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚             â”‚
â”‚                                                           â–¼             â”‚
â”‚                                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                                â”‚ Frontend:            â”‚ â”‚
â”‚                                                â”‚ 1. Close wizard      â”‚ â”‚
â”‚                                                â”‚ 2. startProcess()    â”‚ â”‚
â”‚                                                â”‚ 3. Open SSE          â”‚ â”‚
â”‚                                                â”‚    connection        â”‚ â”‚
â”‚                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚             â”‚
â”‚                                                           â–¼             â”‚
â”‚                                                (See SSE flow below)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Profile Generation - SSE Streaming Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PROFILE GENERATION - REAL-TIME STREAMING                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

After POST /generate-profile returns 202:
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONTEND: NotificationContext.startProcess()                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Register process:                                                        â”‚
â”‚    processes['loadProfile'] = {                                          â”‚
â”‚      type: 'loadProfile',                                                â”‚
â”‚      status: 'running',                                                  â”‚
â”‚      progress: 0,                                                        â”‚
â”‚      logs: [],                                                           â”‚
â”‚      startTime: Date.now(),                                              â”‚
â”‚      profileName: 'Load_Profile_2025_2050'                               â”‚
â”‚    }                                                                     â”‚
â”‚                                                                           â”‚
â”‚  Open SSE connection:                                                    â”‚
â”‚    EventSource('/project/generation-status')                             â”‚
â”‚                                                                           â”‚
â”‚  Show ProcessModal                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ SSE Stream Active
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND: Subprocess Execution                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Python Script: models/load_profile_generation.py                        â”‚
â”‚                                                                           â”‚
â”‚  Year-by-Year Processing:                                                â”‚
â”‚      â”‚                                                                    â”‚
â”‚      For year in range(startYear, endYear + 1):                          â”‚
â”‚          â”‚                                                                â”‚
â”‚          â”œâ”€â”€â–¶ Extract base patterns (from load_curve_template.xlsx)     â”‚
â”‚          â”‚    Write: {type: 'log', data: 'Extracting patterns FY2024..'}â”‚
â”‚          â”‚                                                                â”‚
â”‚          â”œâ”€â”€â–¶ Read demand forecast for this year                         â”‚
â”‚          â”‚    Write: {type: 'log', data: 'Reading forecast for 2025...'}â”‚
â”‚          â”‚                                                                â”‚
â”‚          â”œâ”€â”€â–¶ Scale patterns to match forecast                           â”‚
â”‚          â”‚    Write: {type: 'log', data: 'Scaling patterns...'}         â”‚
â”‚          â”‚                                                                â”‚
â”‚          â”œâ”€â”€â–¶ Apply monthly constraints (if enabled)                     â”‚
â”‚          â”‚    Write: {type: 'log', data: 'Applying constraints...'}     â”‚
â”‚          â”‚                                                                â”‚
â”‚          â””â”€â”€â–¶ Write 8760 hourly values                                   â”‚
â”‚               Write: {type: 'log', data: 'âœ“ FY2025 completed'}          â”‚
â”‚                                                                           â”‚
â”‚  After all years:                                                        â”‚
â”‚      â”œâ”€â”€â–¶ Generate analysis sheets                                       â”‚
â”‚      â”‚    - Monthly_Analysis                                             â”‚
â”‚      â”‚    - Seasonal_Analysis                                            â”‚
â”‚      â”‚    - Daily_Profile                                                â”‚
â”‚      â”‚    - Load_Duration_Curve                                          â”‚
â”‚      â”‚                                                                    â”‚
â”‚      â””â”€â”€â–¶ Save Excel file                                                â”‚
â”‚           Write: {type: 'result',                                        â”‚
â”‚                   data: {profileName, years: 26, totalHours: 227760}}   â”‚
â”‚           Write: {type: 'done'}                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Events sent via SSE
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONTEND: Event Handlers                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  onMessage(event):                                                       â”‚
â”‚      data = JSON.parse(event.data)                                       â”‚
â”‚                                                                           â”‚
â”‚      if (data.type === 'log'):                                           â”‚
â”‚          updateProgress('loadProfile', {                                 â”‚
â”‚              logs: [...currentLogs, {                                    â”‚
â”‚                  timestamp: new Date().toLocaleTimeString(),             â”‚
â”‚                  message: data.data,                                     â”‚
â”‚                  level: 'info'                                           â”‚
â”‚              }]                                                          â”‚
â”‚          })                                                              â”‚
â”‚                                                                           â”‚
â”‚      else if (data.type === 'result'):                                   â”‚
â”‚          showSuccessNotification()                                       â”‚
â”‚          storeResultData(data.data)                                      â”‚
â”‚                                                                           â”‚
â”‚      else if (data.type === 'done'):                                     â”‚
â”‚          endProcess('loadProfile', 'completed')                          â”‚
â”‚          eventSource.close()                                             â”‚
â”‚          setTimeout(() => {                                              â”‚
â”‚              navigate('/analyze-profiles')  // Auto-navigate             â”‚
â”‚          }, 2000)                                                        â”‚
â”‚                                                                           â”‚
â”‚      else if (data.type === 'error'):                                    â”‚
â”‚          endProcess('loadProfile', 'failed')                             â”‚
â”‚          showErrorNotification(data.message)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ProcessModal UI (Real-time Updates)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  ğŸ”„ Load Profile Generation - Running             [Minimize] [Ã—]  â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Profile: Load_Profile_2025_2050                                  â•‘  â”‚
â”‚  â•‘  Elapsed Time: 00:01:45                                           â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  Logs:                                        [Copy Logs]     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:15 - Extracting patterns from FY2024...          â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:20 - Reading forecast for 2025...                â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:25 - Scaling patterns to match demand...         â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:30 - âœ“ FY2025 completed (8760 hours)             â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:35 - âœ“ FY2026 completed (8760 hours)             â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ ...                                         â†‘ Auto-scroll â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:31:50 - Generating monthly analysis...              â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:31:55 - Generating load duration curve...           â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:32:00 - âœ“ Profile saved successfully!              â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                          â”‚
â”‚  Auto-navigation to Analyze Profiles page in 2 seconds...               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 Analyze Profiles Page Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ANALYZE PROFILES PAGE                               â”‚
â”‚                  (views/Load Profiles/AnalyzeProfiles.jsx)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Page Mount
    â”‚
    â–¼
Load from Zustand Store (useAnalyzeProfilesStore):
    â”œâ”€â”€ availableProfiles (from localStorage)
    â”œâ”€â”€ selectedProfile
    â””â”€â”€ profileStates (tab selections, date ranges, etc.)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Are profiles in store?       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
 YES        NO
  â”‚          â”‚
  â”‚          â–¼
  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚    â”‚ Fetch Profiles:      â”‚
  â”‚    â”‚ GET /load-profiles   â”‚
  â”‚    â”‚ Store in Zustand     â”‚
  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
User Selects Profile from Dropdown
    â”‚
    â–¼
Load Profile Data:
    â”œâ”€â”€ GET /profile-years (get fiscal years list)
    â””â”€â”€ Store in Zustand
    â”‚
    â–¼
Set default year (most recent)
    â”‚
    â–¼
Render UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TOP CONTROLS                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚  â”‚ Profile Selector   â”‚  â”‚ Period Selector                       â”‚â”‚  â”‚
â”‚  â”‚  â”‚ [Profile1 â–¼]       â”‚  â”‚ â—‹ Overall  â— FY2025  â—‹ FY2026 ...    â”‚â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â”‚           â”‚                             â”‚                         â”‚  â”‚
â”‚  â”‚           â”‚ onChange                    â”‚ onChange                â”‚  â”‚
â”‚  â”‚           â–¼                             â–¼                         â”‚  â”‚
â”‚  â”‚  Load new profile data         Filter data by selected period    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TAB NAVIGATION                                                    â”‚  â”‚
â”‚  â”‚  [Overview] [Time Series] [Month-wise] [Season] [Day-type] [LDC] â”‚  â”‚
â”‚  â”‚      â”‚            â”‚            â”‚          â”‚         â”‚        â”‚     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚            â”‚            â”‚          â”‚         â”‚        â”‚        â”‚
â”‚         â–¼            â–¼            â–¼          â–¼         â–¼        â–¼        â”‚
â”‚   (See Tab Flows Below)                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
OVERVIEW TAB
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tab: Overview                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Parameter Selection:                                             â”‚  â”‚
â”‚  â”‚  â—‹ Peak Load   â— Average Load   â—‹ Min Load   â—‹ Max Load          â”‚  â”‚
â”‚  â”‚                    â”‚                                               â”‚  â”‚
â”‚  â”‚                    â”‚ onChange                                      â”‚  â”‚
â”‚  â”‚                    â–¼                                               â”‚  â”‚
â”‚  â”‚         Update heatmap with selected parameter                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  MONTHLY ANALYSIS HEATMAP                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚           2025    2026    2027    2028 ... 2050            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Jan    [150.2] [155.8] [160.1] [165.0] ... [220.5]        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Feb    [145.0] [150.2] [155.0] [159.8] ... [210.3]        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Mar    [140.5] [145.0] [150.0] [155.1] ... [205.0]        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  ...                                                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Dec    [160.0] [165.5] [170.2] [175.0] ... [230.8]        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Color Scale: [Low â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ High]                       â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  [Customize Colors] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚          â”‚                                              â”‚        â”‚  â”‚
â”‚  â”‚          â–¼                                              â”‚        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚        â”‚  â”‚
â”‚  â”‚  â”‚ Color Customization Dialog:       â”‚                 â”‚        â”‚  â”‚
â”‚  â”‚  â”‚ Min Color: [ğŸ¨ #0000FF] (blue)   â”‚                 â”‚        â”‚  â”‚
â”‚  â”‚  â”‚ Max Color: [ğŸ¨ #FF0000] (red)    â”‚                 â”‚        â”‚  â”‚
â”‚  â”‚  â”‚                                   â”‚                 â”‚        â”‚  â”‚
â”‚  â”‚  â”‚ [Apply]                           â”‚                 â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚        â”‚  â”‚
â”‚  â”‚              â”‚                                          â”‚        â”‚  â”‚
â”‚  â”‚              â–¼                                          â”‚        â”‚  â”‚
â”‚  â”‚  Update Zustand store (persisted to localStorage)       â”‚        â”‚  â”‚
â”‚  â”‚  Re-render heatmap with new colors                     â”‚        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  SEASONAL ANALYSIS HEATMAP                                        â”‚  â”‚
â”‚  â”‚  (Same structure as monthly, grouped by seasons)                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TIME SERIES TAB
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”€â”€â”€â”€â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tab: Time Series Analysis                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Date Range Picker:                                               â”‚  â”‚
â”‚  â”‚  Start: [2025-01-01 ğŸ“…]    End: [2025-12-31 ğŸ“…]                  â”‚  â”‚
â”‚  â”‚              â”‚                        â”‚                            â”‚  â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚  â”‚
â”‚  â”‚                           â”‚ onChange                               â”‚  â”‚
â”‚  â”‚                           â–¼                                        â”‚  â”‚
â”‚  â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚  â”‚
â”‚  â”‚                 â”‚ API Call:             â”‚                         â”‚  â”‚
â”‚  â”‚                 â”‚ GET /full-load-profileâ”‚                         â”‚  â”‚
â”‚  â”‚                 â”‚ params: {             â”‚                         â”‚  â”‚
â”‚  â”‚                 â”‚   profileName,        â”‚                         â”‚  â”‚
â”‚  â”‚                 â”‚   fiscalYear,         â”‚                         â”‚  â”‚
â”‚  â”‚                 â”‚   startDate, endDate  â”‚                         â”‚  â”‚
â”‚  â”‚                 â”‚ }                     â”‚                         â”‚  â”‚
â”‚  â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚  â”‚
â”‚  â”‚                            â”‚                                       â”‚  â”‚
â”‚  â”‚                            â–¼                                       â”‚  â”‚
â”‚  â”‚                 Return hourly data: [{DateTime, Load_MW}, ...]    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  LINE CHART                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  MW                                                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  200â”¤                      â•±â•²                               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚     â”‚                    â•±    â•²                             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  150â”¤                  â•±        â•²          â•±â•²               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚     â”‚                â•±            â•²      â•±    â•²             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  100â”¤              â•±                â•²  â•±        â•²           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚     â”‚            â•±                    â•²â•±          â•²         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   50â”¤          â•±                                   â•²        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         Jan-01   Jan-15   Feb-01   Feb-15   Mar-01          â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Brush Selection (zoom): â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  (Drag to zoom into specific period)                        â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  Hover Tooltip:                                                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚  â”‚
â”‚  â”‚  â”‚ 2025-01-15 08:00    â”‚                                        â”‚  â”‚
â”‚  â”‚  â”‚ Load: 156.8 MW      â”‚                                        â”‚  â”‚
â”‚  â”‚  â”‚ Day: Monday         â”‚                                        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

(Continued on next segment...)
```

---

**Partial completion of Section 5. Continuing with remaining tabs and Section 6 next...**

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
MONTH-WISE ANALYSIS TAB
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Month Selector: [January â–¼] [February] [March] ... [December]         â”‚
â”‚                       â”‚                                                  â”‚
â”‚                       â”‚ onChange                                         â”‚
â”‚                       â–¼                                                  â”‚
â”‚          GET /full-load-profile?month=1                                 â”‚
â”‚          Returns hourly data for selected month                         â”‚
â”‚                       â”‚                                                  â”‚
â”‚                       â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  HOURLY PATTERN CHART (24-hour view)                               â”‚ â”‚
â”‚  â”‚  Shows typical hourly load pattern for selected month              â”‚ â”‚
â”‚  â”‚  Average across all days in that month                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
SEASON-WISE ANALYSIS TAB
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”€â”€â”€â”€â•â•â•â•â•â•â•â•â”€â”€â”€â”€â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Season Selector:                                                       â”‚
â”‚  â—‹ Monsoon  â—‹ Post-monsoon  â— Winter  â—‹ Summer                         â”‚
â”‚                    â”‚                                                     â”‚
â”‚                    â”‚ onChange                                            â”‚
â”‚                    â–¼                                                     â”‚
â”‚     GET /full-load-profile?season=Winter                                â”‚
â”‚     Returns data for months in selected season                          â”‚
â”‚                    â”‚                                                     â”‚
â”‚                    â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  SEASONAL LOAD PATTERN                                             â”‚ â”‚
â”‚  â”‚  Aggregated hourly pattern for the season                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
DAY-TYPE ANALYSIS TAB
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  COMPARISON CHART: Weekday vs Weekend vs Holiday                   â”‚ â”‚
â”‚  â”‚                                                                     â”‚ â”‚
â”‚  â”‚  MW                                                                 â”‚ â”‚
â”‚  â”‚  200â”¤                                                               â”‚ â”‚
â”‚  â”‚     â”‚         â•±â•²                  â•±â•²                                â”‚ â”‚
â”‚  â”‚  150â”¤       â•±    â•²              â•±    â•²        â† Weekday (blue)     â”‚ â”‚
â”‚  â”‚     â”‚     â•±        â•²          â•±        â•²                            â”‚ â”‚
â”‚  â”‚  100â”¤   â•±            â•²      â•±            â•²   â† Weekend (green)     â”‚ â”‚
â”‚  â”‚     â”‚ â•±                â•²  â•±                â•²                        â”‚ â”‚
â”‚  â”‚   50â”¤â•±                  â•²â•±                  â•²â† Holiday (red)        â”‚ â”‚
â”‚  â”‚     â””â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€                       â”‚ â”‚
â”‚  â”‚      00:00  06:00  12:00  18:00  24:00                             â”‚ â”‚
â”‚  â”‚                                                                     â”‚ â”‚
â”‚  â”‚  Legend: [Weekday] [Weekend] [Holiday]  (click to toggle)          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LOAD DURATION CURVE TAB
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET /load-duration-curve?fiscalYear=2025                              â”‚
â”‚  Returns: [{Percent_Time, Demand_MW}, ...] (sorted by demand DESC)     â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  LOAD DURATION CURVE                                               â”‚ â”‚
â”‚  â”‚                                                                     â”‚ â”‚
â”‚  â”‚  MW                                                                 â”‚ â”‚
â”‚  â”‚  250â”¤                                                               â”‚ â”‚
â”‚  â”‚     â”‚â•²                                                              â”‚ â”‚
â”‚  â”‚  200â”¤  â•²                                                            â”‚ â”‚
â”‚  â”‚     â”‚    â•²              â† 5% line (marked)                          â”‚ â”‚
â”‚  â”‚  150â”¤      â•²                                                        â”‚ â”‚
â”‚  â”‚     â”‚        â•²                                                      â”‚ â”‚
â”‚  â”‚  100â”¤          â•²____                                                â”‚ â”‚
â”‚  â”‚     â”‚               â•²____                                           â”‚ â”‚
â”‚  â”‚   50â”¤                    â•²____                                      â”‚ â”‚
â”‚  â”‚     â”‚                         â•²____  â† 95% line (marked)            â”‚ â”‚
â”‚  â”‚     â””â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€                             â”‚ â”‚
â”‚  â”‚       0%   20%   40%   60%   80%  100%                             â”‚ â”‚
â”‚  â”‚              Percent of Time                                        â”‚ â”‚
â”‚  â”‚                                                                     â”‚ â”‚
â”‚  â”‚  Annotations:                                                       â”‚ â”‚
â”‚  â”‚  â€¢ 5% exceedance: 210 MW (peak capacity needed)                    â”‚ â”‚
â”‚  â”‚  â€¢ 95% exceedance: 65 MW (base load)                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. PYPSA SUITE MODULE FLOWS

### 6.1 Model Config Page Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          MODEL CONFIG PAGE                                 â”‚
â”‚                  (views/PyPSA Suite/ModelConfig.jsx)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Page Mount
    â”‚
    â–¼
Initialize State:
    â”œâ”€â”€ scenarioName = ""
    â”œâ”€â”€ baseYear = "FY2024"
    â”œâ”€â”€ solver = "highs"
    â””â”€â”€ configuration = {default settings}
    â”‚
    â–¼
Load Existing Scenarios:
    â”œâ”€â”€ GET /project/pypsa/scenarios
    â””â”€â”€ Check for duplicates
    â”‚
    â–¼
Render UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘            PYPSA MODEL CONFIGURATION                               â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  BASIC SETTINGS                                               â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Scenario Name: *                                             â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ [Enter scenario name...]                                â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚       â”‚                                                        â”‚ â•‘  â”‚
â”‚  â•‘  â”‚       â”‚ onChange (check duplicates)                           â”‚ â•‘  â”‚
â”‚  â•‘  â”‚       â–¼                                                        â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ GET /pypsa/scenarios     â”‚                                 â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Check if exists          â”‚                                 â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚ â•‘  â”‚
â”‚  â•‘  â”‚         â”‚                                                      â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ Exists?      â”‚                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    â”‚        â”‚                                                 â”‚ â•‘  â”‚
â”‚  â•‘  â”‚   YES       NO                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    â”‚        â”‚                                                 â”‚ â•‘  â”‚
â”‚  â•‘  â”‚    â–¼        â–¼                                                 â”‚ â•‘  â”‚
â”‚  â•‘  â”‚ âš ï¸ Warning âœ“ Valid                                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Base Year: [FY2024 â–¼]                                        â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Solver: [Highs â–¼]  (Highs / Gurobi)                          â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  CONFIGURATION ACCORDIONS                                     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â–¼ Core Settings                                              â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜‘ Committable (Unit commitment constraints)            â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜‘ CO2 Constraints (Emissions limits)                   â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚                                                          â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Monthly Constraints:                                    â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ â˜‘ Enabled                                               â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Type: [Cycle â–¼]  (Cycle / Energy)                      â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Cycles per Month: [2]                                   â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â–¶ Energy Management                                          â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  (Click to expand)                                         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  - Battery Cycle Constraints                              â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  - Storage Discharging Options                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  - Run Model On (Gross/Net demand)                        â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â–¶ Optimization                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  (Click to expand)                                         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  - Multi-Year Investment Strategy                         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  - Weightings (Actual/Representative)                     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â–¶ Asset Management                                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  (Click to expand)                                         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  - Generator Retirements                                  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  - Storage Retirements                                    â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  - Generator Clustering                                   â”‚ â•‘  â”‚
â”‚  â•‘  â”‚                                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â–¶ Advanced Options                                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  (Click to expand)                                         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  - Battery Cycle Cost                                     â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  - Rolling Horizon                                        â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  CONFIGURATION SUMMARY                                        â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Scenario: PyPSA_Optimization_2025                            â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Solver: HiGHS                                                â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Features Enabled: 7                                          â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  Estimated Run Time: 30-60 minutes                            â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  [Cancel]                        [Apply Configuration & Run]     â•‘  â”‚
â”‚  â•‘      â”‚                                          â”‚                 â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚         â”‚                                          â”‚                    â”‚
â”‚         â–¼                                          â”‚                    â”‚
â”‚    Clear form                                      â”‚                    â”‚
â”‚                                                    â–¼                    â”‚
â”‚                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                                         â”‚ Validate:                â”‚    â”‚
â”‚                                         â”‚ - Scenario name set      â”‚    â”‚
â”‚                                         â”‚ - Base year valid        â”‚    â”‚
â”‚                                         â”‚ - Solver selected        â”‚    â”‚
â”‚                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                    â”‚                    â”‚
â”‚                                              â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”              â”‚
â”‚                                           Valid?          â”‚              â”‚
â”‚                                              â”‚           â”‚              â”‚
â”‚                                             YES          NO              â”‚
â”‚                                              â”‚           â”‚              â”‚
â”‚                                              â–¼           â–¼              â”‚
â”‚                                         Continue    Show error          â”‚
â”‚                                              â”‚                          â”‚
â”‚                                              â–¼                          â”‚
â”‚                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                                   â”‚ Step 1: Apply Config       â”‚        â”‚
â”‚                                   â”‚ POST /pypsa/apply-         â”‚        â”‚
â”‚                                   â”‚      configuration         â”‚        â”‚
â”‚                                   â”‚ body: {projectPath,        â”‚        â”‚
â”‚                                   â”‚        scenarioName,       â”‚        â”‚
â”‚                                   â”‚        baseYear,           â”‚        â”‚
â”‚                                   â”‚        configuration}      â”‚        â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                              â”‚                          â”‚
â”‚                                              â–¼                          â”‚
â”‚                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                                   â”‚ Backend:                   â”‚        â”‚
â”‚                                   â”‚ 1. Create scenario folder  â”‚        â”‚
â”‚                                   â”‚ 2. Save config JSON        â”‚        â”‚
â”‚                                   â”‚ 3. Validate input file     â”‚        â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                              â”‚                          â”‚
â”‚                                        â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                    â”‚
â”‚                                     Success?        â”‚                    â”‚
â”‚                                        â”‚           â”‚                    â”‚
â”‚                                       YES          NO                    â”‚
â”‚                                        â”‚           â”‚                    â”‚
â”‚                                        â–¼           â–¼                    â”‚
â”‚                                   Continue    Show error                â”‚
â”‚                                        â”‚                                â”‚
â”‚                                        â–¼                                â”‚
â”‚                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                                   â”‚ Step 2: Run Model          â”‚        â”‚
â”‚                                   â”‚ POST /run-pypsa-model      â”‚        â”‚
â”‚                                   â”‚ body: {projectPath,        â”‚        â”‚
â”‚                                   â”‚        scenarioName}       â”‚        â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                              â”‚                          â”‚
â”‚                                              â–¼                          â”‚
â”‚                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                                   â”‚ Returns 202 Accepted       â”‚        â”‚
â”‚                                   â”‚ Model execution started    â”‚        â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                              â”‚                          â”‚
â”‚                                              â–¼                          â”‚
â”‚                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                                   â”‚ Frontend:                  â”‚        â”‚
â”‚                                   â”‚ 1. startProcess('pypsa')   â”‚        â”‚
â”‚                                   â”‚ 2. Open TWO SSE streams:   â”‚        â”‚
â”‚                                   â”‚    - Progress              â”‚        â”‚
â”‚                                   â”‚    - Solver logs           â”‚        â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                              â”‚                          â”‚
â”‚                                              â–¼                          â”‚
â”‚                                       (See SSE flow below)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 PyPSA Execution - Dual SSE Streams

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PYPSA EXECUTION - DUAL SSE STREAMING                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

After POST /run-pypsa-model returns 202:
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONTEND: NotificationContext.startProcess()                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Register process:                                                        â”‚
â”‚    processes['pypsa'] = {                                                â”‚
â”‚      type: 'pypsa',                                                      â”‚
â”‚      status: 'running',                                                  â”‚
â”‚      progress: 0,                                                        â”‚
â”‚      logs: [],                                                           â”‚
â”‚      solverLogs: [],         // Separate log array                      â”‚
â”‚      startTime: Date.now(),                                              â”‚
â”‚      scenarioName: 'PyPSA_2025'                                          â”‚
â”‚    }                                                                     â”‚
â”‚                                                                           â”‚
â”‚  Open TWO SSE connections:                                               â”‚
â”‚  1. EventSource('/project/pypsa-model-progress')                         â”‚
â”‚  2. EventSource('/project/pypsa-solver-logs')                            â”‚
â”‚                                                                           â”‚
â”‚  Show ProcessModal with TWO log panels                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Dual SSE Streams Active
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND: Model Execution                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Async Task: execute_pypsa_model()                                       â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Track PID for cancellation:                                       â”‚  â”‚
â”‚  â”‚  model_status["pid"] = os.getpid()                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                           â”‚
â”‚  StreamingLogger writes to PROGRESS stream:                              â”‚
â”‚      â”‚                                                                    â”‚
â”‚      â”œâ”€â”€â–¶ "Initializing PyPSA model..."                                  â”‚
â”‚      â”œâ”€â”€â–¶ "Reading input data..."                                        â”‚
â”‚      â”œâ”€â”€â–¶ "Building network model..."                                    â”‚
â”‚      â”œâ”€â”€â–¶ "Configuring solver..."                                        â”‚
â”‚      â””â”€â”€â–¶ "Starting optimization..."                                     â”‚
â”‚                                                                           â”‚
â”‚  Execute model (blocking):                                               â”‚
â”‚      await asyncio.to_thread(                                            â”‚
â”‚          run_pypsa_model_complete,                                       â”‚
â”‚          project_folder,                                                 â”‚
â”‚          scenario_name,                                                  â”‚
â”‚          stream_logger                                                   â”‚
â”‚      )                                                                    â”‚
â”‚                                                                           â”‚
â”‚  Solver Output â†’ SOLVER LOGS stream:                                     â”‚
â”‚      â”œâ”€â”€â–¶ "HiGHS 1.5.3: running..."                                      â”‚
â”‚      â”œâ”€â”€â–¶ "Iteration 1: Objective 1.234e6"                               â”‚
â”‚      â”œâ”€â”€â–¶ "Iteration 100: Objective 1.230e6"                             â”‚
â”‚      â”œâ”€â”€â–¶ "Iteration 500: Objective 1.228e6"                             â”‚
â”‚      â””â”€â”€â–¶ "Optimal solution found"                                       â”‚
â”‚                                                                           â”‚
â”‚  After completion:                                                        â”‚
â”‚      â”œâ”€â”€â–¶ Save network to .nc file                                       â”‚
â”‚      â”œâ”€â”€â–¶ Write "Model execution completed"                              â”‚
â”‚      â””â”€â”€â–¶ Close SSE streams                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Events sent via dual SSE
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ProcessModal UI (Dual Log Display)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  ğŸ”„ PyPSA Model Execution - Running               [Minimize] [Ã—]  â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  Scenario: PyPSA_Optimization_2025                                â•‘  â”‚
â”‚  â•‘  Solver: HiGHS                                                    â•‘  â”‚
â”‚  â•‘  Elapsed Time: 00:15:32                                           â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  PROGRESS LOGS                            [Copy Logs]         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:15 - Initializing PyPSA model...                 â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:20 - Reading input data from pypsa_input...     â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:25 - Building network with 100 buses...         â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:30 - Adding 50 generators...                    â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:35 - Configuring HiGHS solver...                â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:30:40 - Starting optimization...                   â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ 14:45:00 - Optimization in progress...                â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ ...                                    â†‘ Auto-scroll   â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘  â”‚
â”‚  â•‘  â”‚  SOLVER LOGS (HiGHS)                      [Copy Logs]         â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Running HiGHS 1.5.3 [date: 2025-11-16]                â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Copyright (c) 2024 HiGHS ...                           â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Model has 5000 rows, 3000 columns ...                 â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Presolving model                                      â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Iteration 100: obj = 1.234567e+06                     â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Iteration 500: obj = 1.230123e+06                     â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ Iteration 1000: obj = 1.228456e+06                    â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â”‚ ...                                    â†‘ Auto-scroll   â”‚  â”‚ â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘  â”‚
â”‚  â•‘                                                                    â•‘  â”‚
â”‚  â•‘  [Stop Model]                                                     â•‘  â”‚
â”‚  â•‘         â”‚                                                          â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚            â”‚                                                             â”‚
â”‚            â–¼                                                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                             â”‚
â”‚    â”‚ POST /stop-pypsa-    â”‚                                             â”‚
â”‚    â”‚      model           â”‚                                             â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚               â”‚                                                          â”‚
â”‚               â–¼                                                          â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                             â”‚
â”‚    â”‚ Backend:             â”‚                                             â”‚
â”‚    â”‚ 1. Get PID           â”‚                                             â”‚
â”‚    â”‚ 2. Send SIGTERM      â”‚                                             â”‚
â”‚    â”‚ 3. Wait 5 sec        â”‚                                             â”‚
â”‚    â”‚ 4. SIGKILL if needed â”‚                                             â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

On Completion:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ PyPSA Model Completed         â”‚
â”‚ Scenario: PyPSA_Optimization... â”‚
â”‚ Output: optimization_2025.nc    â”‚
â”‚ Total Time: 35m 42s             â”‚
â”‚                                 â”‚
â”‚ [View Results â†’]                â”‚
â”‚        â”‚                        â”‚
â”‚        â–¼                        â”‚
â”‚ Navigate to View Results page  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 View Results Page Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          VIEW RESULTS PAGE                                 â”‚
â”‚                    (views/PyPSA Suite/ViewResults.jsx)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Page Mount
    â”‚
    â–¼
Load Scenarios:
    â”œâ”€â”€ GET /project/pypsa/scenarios
    â””â”€â”€ setState(scenarios)
    â”‚
    â–¼
Render UI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  VIEW MODE TOGGLE                                                  â”‚  â”‚
â”‚  â”‚  â— Excel Results   â—‹ Network Analysis                             â”‚  â”‚
â”‚  â”‚         â”‚                    â”‚                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                    â”‚                                        â”‚
â”‚            â–¼                    â–¼                                        â”‚
â”‚   (Excel View)          (Network View)                                  â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
EXCEL RESULTS VIEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Folder Selector: [PyPSA_Optimization_2025 â–¼]                          â”‚
â”‚                         â”‚                                                â”‚
â”‚                         â”‚ onChange                                       â”‚
â”‚                         â–¼                                                â”‚
â”‚              GET /optimization-sheets                                    â”‚
â”‚              Returns list of sheets in Pypsa_results.xlsx                â”‚
â”‚                         â”‚                                                â”‚
â”‚                         â–¼                                                â”‚
â”‚  Sheet Selector: [Generation_Summary â–¼]                                 â”‚
â”‚                         â”‚                                                â”‚
â”‚                         â”‚ onChange                                       â”‚
â”‚                         â–¼                                                â”‚
â”‚              GET /optimization-sheet-data                                â”‚
â”‚              Returns data from selected sheet                            â”‚
â”‚                         â”‚                                                â”‚
â”‚                         â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  DATA VISUALIZATION                                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Chart Type: â—‹ Area Chart  â— Stacked Bar                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  STACKED BAR CHART                                    â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                                                        â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  GWh                                                   â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  500â”¤ â–‘â–‘â–‘â–‘ Storage                                     â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚     â”‚ â–’â–’â–’â–’ Wind                                        â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  400â”¤ â–ˆâ–ˆâ–ˆâ–ˆ Solar                                       â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚     â”‚ â–“â–“â–“â–“ Gas                                         â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  300â”¤ â– â– â– â–  Coal                                        â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚     â”œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€                     â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚      2025  2030  2035  2040  2045                      â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Legend: [Solar] [Wind] [Storage] [Gas] [Coal]               â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
NETWORK ANALYSIS VIEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NetworkSelector Component:                                             â”‚
â”‚                                                                         â”‚
â”‚  Scenario Selector: [PyPSA_Optimization_2025 â–¼]                        â”‚
â”‚                         â”‚                                                â”‚
â”‚                         â”‚ onChange                                       â”‚
â”‚                         â–¼                                                â”‚
â”‚              GET /pypsa/networks                                         â”‚
â”‚              Returns list of .nc files in scenario folder                â”‚
â”‚                         â”‚                                                â”‚
â”‚                         â–¼                                                â”‚
â”‚  Network File Selector (Multi-select):                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â˜‘ network_2025.nc (45.2 MB)                                        â”‚ â”‚
â”‚  â”‚ â˜‘ network_2030.nc (47.8 MB)                                        â”‚ â”‚
â”‚  â”‚ â˜ network_2035.nc (50.1 MB)                                        â”‚ â”‚
â”‚  â”‚ â˜ network_2040.nc (52.3 MB)                                        â”‚ â”‚
â”‚  â”‚ â˜ network_2045.nc (54.5 MB)                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â”‚                                                â”‚
â”‚                         â”‚ User selects files                             â”‚
â”‚                         â–¼                                                â”‚
â”‚              GET /pypsa/availability (for each file)                     â”‚
â”‚              Returns what data/components are available                  â”‚
â”‚                         â”‚                                                â”‚
â”‚                         â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  UnifiedNetworkView Component                                      â”‚ â”‚
â”‚  â”‚                                                                     â”‚ â”‚
â”‚  â”‚  Available Analyses (dynamically shown):                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ âœ“ Generation by Carrier (has_generators)                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ âœ“ Capacity Analysis (has_generators)                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ âœ“ Storage Operation (has_storage_units)                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ âœ“ Transmission Flows (has_lines)                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ âœ“ Nodal Prices (is_solved)                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ âœ“ Emissions Analysis (has_emissions_data)                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ âœ— Load Duration Curve (no time series) [disabled]            â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                     â”‚ â”‚
â”‚  â”‚  Selected Analysis: Generation by Carrier                          â”‚ â”‚
â”‚  â”‚                                                                     â”‚ â”‚
â”‚  â”‚  Filters:                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Time Resolution: [1D â–¼]  (1H / 1D / 1W / 1M)                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Carriers: â˜‘ Solar  â˜‘ Wind  â˜‘ Gas  â˜ Coal                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Date Range: [2025-01-01] to [2025-12-31]                     â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                     â”‚ â”‚
â”‚  â”‚  [Generate Chart]                                                  â”‚ â”‚
â”‚  â”‚         â”‚                                                           â”‚ â”‚
â”‚  â”‚         â–¼                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚ â”‚
â”‚  â”‚  â”‚ POST /pypsa/plot/    â”‚                                          â”‚ â”‚
â”‚  â”‚  â”‚      generate        â”‚                                          â”‚ â”‚
â”‚  â”‚  â”‚ body: {              â”‚                                          â”‚ â”‚
â”‚  â”‚  â”‚   network_path,      â”‚                                          â”‚ â”‚
â”‚  â”‚  â”‚   plot_type,         â”‚                                          â”‚ â”‚
â”‚  â”‚  â”‚   filters,           â”‚                                          â”‚ â”‚
â”‚  â”‚  â”‚   output_format:     â”‚                                          â”‚ â”‚
â”‚  â”‚  â”‚     'html'           â”‚                                          â”‚ â”‚
â”‚  â”‚  â”‚ }                    â”‚                                          â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚ â”‚
â”‚  â”‚             â”‚                                                       â”‚ â”‚
â”‚  â”‚             â–¼                                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  INTERACTIVE PLOTLY CHART (embedded HTML)                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  (Full interactive Plotly visualization)                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Zoom, pan, hover tooltips                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Legend toggles                                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Export to PNG                                             â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Section 6 complete. Continuing with Sections 7-10 (Data Flows, Navigation, Real-Time Communication, State Management, Settings) in next segment...**

---

## 7. Data Flow Diagrams

### 7.1 API Request/Response Flow Pattern

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       STANDARD API FLOW PATTERN                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Component Event
     â”‚
     â”œâ”€> onClick / onChange / onSubmit
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Event Handler   â”‚
â”‚                 â”‚
â”‚ handleSubmit()  â”‚
â”‚ handleFetch()   â”‚
â”‚ handleUpdate()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€> Validate Input
         â”‚   â”‚
         â”‚   â”œâ”€ Check required fields
         â”‚   â”œâ”€ Validate data types
         â”‚   â””â”€ Check business logic
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Set Loading     â”‚
â”‚ State           â”‚
â”‚                 â”‚
â”‚ setLoading(true)â”‚
â”‚ setError(null)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API SERVICE LAYER                          â”‚
â”‚  (frontend/src/services/api.js)                                 â”‚
â”‚                                                                  â”‚
â”‚  export const apiFunction = async (params) => {                 â”‚
â”‚    const response = await fetch(`${API_BASE_URL}/endpoint`, {  â”‚
â”‚      method: 'POST',                                            â”‚
â”‚      headers: { 'Content-Type': 'application/json' },           â”‚
â”‚      body: JSON.stringify(params)                               â”‚
â”‚    });                                                           â”‚
â”‚    return await response.json();                                â”‚
â”‚  };                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ HTTP Request
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FASTAPI BACKEND ENDPOINT                      â”‚
â”‚  (backend/app/api/endpoints/...)                                â”‚
â”‚                                                                  â”‚
â”‚  @router.post("/endpoint")                                      â”‚
â”‚  async def endpoint(request: RequestModel):                     â”‚
â”‚      # Validate request                                         â”‚
â”‚      # Process business logic                                   â”‚
â”‚      # Call service layer                                       â”‚
â”‚      # Return response                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SERVICE LAYER                               â”‚
â”‚  (backend/app/services/...)                                     â”‚
â”‚                                                                  â”‚
â”‚  class SomeService:                                             â”‚
â”‚      async def perform_operation(self, params):                 â”‚
â”‚          # Database operations                                  â”‚
â”‚          # File system operations                               â”‚
â”‚          # Calculations                                         â”‚
â”‚          # External API calls                                   â”‚
â”‚          return result                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Database       â”‚    â”‚  File System     â”‚    â”‚  External APIs   â”‚
â”‚   Operations     â”‚    â”‚  Operations      â”‚    â”‚  (if any)        â”‚
â”‚                  â”‚    â”‚                  â”‚    â”‚                  â”‚
â”‚ â€¢ Read/Write     â”‚    â”‚ â€¢ Excel files    â”‚    â”‚ â€¢ Weather API    â”‚
â”‚ â€¢ Transactions   â”‚    â”‚ â€¢ NetCDF files   â”‚    â”‚ â€¢ GIS services   â”‚
â”‚ â€¢ Queries        â”‚    â”‚ â€¢ Config files   â”‚    â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  Response Object â”‚
                        â”‚                  â”‚
                        â”‚  {               â”‚
                        â”‚    success: bool â”‚
                        â”‚    data: {...}   â”‚
                        â”‚    error: str    â”‚
                        â”‚  }               â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ JSON Response
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FRONTEND RESPONSE HANDLER                     â”‚
â”‚                                                                  â”‚
â”‚  const result = await apiFunction(params);                      â”‚
â”‚                                                                  â”‚
â”‚  if (result.success) {                                          â”‚
â”‚    // Update state with new data                                â”‚
â”‚    setData(result.data);                                        â”‚
â”‚    // Show success notification                                 â”‚
â”‚    toast.success('Operation completed!');                       â”‚
â”‚  } else {                                                        â”‚
â”‚    // Handle error                                              â”‚
â”‚    setError(result.error);                                      â”‚
â”‚    toast.error(result.error);                                   â”‚
â”‚  }                                                               â”‚
â”‚                                                                  â”‚
â”‚  setLoading(false);                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Update UI   â”‚
                    â”‚             â”‚
                    â”‚ Re-render   â”‚
                    â”‚ with new    â”‚
                    â”‚ state       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 Excel â†” JSON Data Transformation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   EXCEL UPLOAD TRANSFORMATION                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Selects File
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  File Input Component                                        â”‚
â”‚                                                               â”‚
â”‚  <input type="file"                                          â”‚
â”‚         accept=".xlsx,.xls"                                  â”‚
â”‚         onChange={handleFileUpload} />                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend Validation                                         â”‚
â”‚                                                               â”‚
â”‚  â€¢ Check file extension (.xlsx, .xls)                        â”‚
â”‚  â€¢ Check file size (< 50MB)                                  â”‚
â”‚  â€¢ Validate file is not corrupted                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FormData Construction                                       â”‚
â”‚                                                               â”‚
â”‚  const formData = new FormData();                            â”‚
â”‚  formData.append('file', file);                              â”‚
â”‚  formData.append('project_id', projectId);                   â”‚
â”‚  formData.append('metadata', JSON.stringify(metadata));      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ POST /api/upload-excel
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend: Parse Excel File                                   â”‚
â”‚  (backend/app/services/excel_service.py)                     â”‚
â”‚                                                               â”‚
â”‚  import pandas as pd                                          â”‚
â”‚  import openpyxl                                              â”‚
â”‚                                                               â”‚
â”‚  def parse_excel(file_path):                                 â”‚
â”‚      # Read all sheets                                       â”‚
â”‚      excel_file = pd.ExcelFile(file_path)                    â”‚
â”‚                                                               â”‚
â”‚      data = {}                                                â”‚
â”‚      for sheet_name in excel_file.sheet_names:               â”‚
â”‚          df = pd.read_excel(                                 â”‚
â”‚              file_path,                                      â”‚
â”‚              sheet_name=sheet_name,                          â”‚
â”‚              header=0                                        â”‚
â”‚          )                                                    â”‚
â”‚                                                               â”‚
â”‚          # Transform DataFrame to JSON                       â”‚
â”‚          data[sheet_name] = df.to_dict(orient='records')    â”‚
â”‚                                                               â”‚
â”‚      return data                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Structure Mapping                                      â”‚
â”‚                                                               â”‚
â”‚  EXCEL STRUCTURE:                                             â”‚
â”‚  Sheet: "DemandData"                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚Year â”‚Regionâ”‚Demand  â”‚Growth(%)â”‚                          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                          â”‚
â”‚  â”‚2024 â”‚North â”‚1000.5  â”‚2.5      â”‚                          â”‚
â”‚  â”‚2025 â”‚North â”‚1025.6  â”‚2.5      â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                               â”‚
â”‚  JSON OUTPUT:                                                 â”‚
â”‚  {                                                            â”‚
â”‚    "DemandData": [                                           â”‚
â”‚      {                                                        â”‚
â”‚        "Year": 2024,                                         â”‚
â”‚        "Region": "North",                                    â”‚
â”‚        "Demand": 1000.5,                                     â”‚
â”‚        "Growth(%)": 2.5                                      â”‚
â”‚      },                                                       â”‚
â”‚      {                                                        â”‚
â”‚        "Year": 2025,                                         â”‚
â”‚        "Region": "North",                                    â”‚
â”‚        "Demand": 1025.6,                                     â”‚
â”‚        "Growth(%)": 2.5                                      â”‚
â”‚      }                                                        â”‚
â”‚    ]                                                          â”‚
â”‚  }                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validation & Type Conversion                                â”‚
â”‚                                                               â”‚
â”‚  â€¢ Convert numeric strings to float/int                      â”‚
â”‚  â€¢ Parse dates to ISO format                                 â”‚
â”‚  â€¢ Validate required fields                                  â”‚
â”‚  â€¢ Check value ranges                                        â”‚
â”‚  â€¢ Handle null/empty values                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Store in Database / File System                             â”‚
â”‚                                                               â”‚
â”‚  Option 1: Store as JSON file                                â”‚
â”‚    /project/inputs/demand_data.json                          â”‚
â”‚                                                               â”‚
â”‚  Option 2: Store in database                                 â”‚
â”‚    INSERT INTO demand_data (year, region, demand, growth)    â”‚
â”‚                                                               â”‚
â”‚  Option 3: Keep original Excel + JSON cache                  â”‚
â”‚    /project/inputs/demand_data.xlsx (original)               â”‚
â”‚    /project/cache/demand_data.json (processed)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Response
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Update State                                      â”‚
â”‚                                                               â”‚
â”‚  setUploadedData(result.data);                               â”‚
â”‚  setDataPreview(result.preview); // First 100 rows           â”‚
â”‚  toast.success('File uploaded successfully!');               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   JSON â†’ EXCEL EXPORT FLOW                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Clicks "Export to Excel"
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Gather Export Data                                          â”‚
â”‚                                                               â”‚
â”‚  const exportData = {                                        â”‚
â”‚    results: demandResults,                                   â”‚
â”‚    scenarios: selectedScenarios,                             â”‚
â”‚    charts: chartConfigurations,                              â”‚
â”‚    metadata: {                                                â”‚
â”‚      project_name: activeProject.name,                       â”‚
â”‚      export_date: new Date().toISOString(),                  â”‚
â”‚      user: currentUser.name                                  â”‚
â”‚    }                                                          â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ POST /api/export-excel
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend: Generate Excel from JSON                           â”‚
â”‚  (backend/app/services/excel_export.py)                      â”‚
â”‚                                                               â”‚
â”‚  from openpyxl import Workbook                               â”‚
â”‚  from openpyxl.styles import Font, PatternFill               â”‚
â”‚  import pandas as pd                                          â”‚
â”‚                                                               â”‚
â”‚  def export_to_excel(data, output_path):                     â”‚
â”‚      wb = Workbook()                                         â”‚
â”‚                                                               â”‚
â”‚      # Create sheets for each data category                  â”‚
â”‚      for sheet_name, records in data.items():                â”‚
â”‚          ws = wb.create_sheet(title=sheet_name)              â”‚
â”‚                                                               â”‚
â”‚          # Convert JSON to DataFrame                         â”‚
â”‚          df = pd.DataFrame(records)                          â”‚
â”‚                                                               â”‚
â”‚          # Write headers                                     â”‚
â”‚          for col_idx, col_name in enumerate(df.columns, 1): â”‚
â”‚              cell = ws.cell(row=1, column=col_idx)           â”‚
â”‚              cell.value = col_name                           â”‚
â”‚              cell.font = Font(bold=True)                     â”‚
â”‚              cell.fill = PatternFill(                        â”‚
â”‚                  start_color='366092',                       â”‚
â”‚                  fill_type='solid'                           â”‚
â”‚              )                                                â”‚
â”‚                                                               â”‚
â”‚          # Write data rows                                   â”‚
â”‚          for row_idx, row_data in df.iterrows():             â”‚
â”‚              for col_idx, value in enumerate(row_data, 1):   â”‚
â”‚                  ws.cell(                                    â”‚
â”‚                      row=row_idx + 2,                        â”‚
â”‚                      column=col_idx,                         â”‚
â”‚                      value=value                             â”‚
â”‚                  )                                            â”‚
â”‚                                                               â”‚
â”‚      # Save workbook                                         â”‚
â”‚      wb.save(output_path)                                    â”‚
â”‚      return output_path                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Return File Response                                        â”‚
â”‚                                                               â”‚
â”‚  return FileResponse(                                        â”‚
â”‚      path=excel_path,                                        â”‚
â”‚      filename=f"{project_name}_export.xlsx",                 â”‚
â”‚      media_type='application/vnd.openxmlformats...'          â”‚
â”‚  )                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Blob Response
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Trigger Download                                  â”‚
â”‚                                                               â”‚
â”‚  const blob = await response.blob();                         â”‚
â”‚  const url = window.URL.createObjectURL(blob);               â”‚
â”‚  const link = document.createElement('a');                   â”‚
â”‚  link.href = url;                                            â”‚
â”‚  link.download = filename;                                   â”‚
â”‚  link.click();                                               â”‚
â”‚  window.URL.revokeObjectURL(url);                            â”‚
â”‚                                                               â”‚
â”‚  toast.success('Excel file downloaded!');                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 State Update Propagation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              STATE UPDATE & RE-RENDER PROPAGATION                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Action (e.g., Select Scenario)
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component Event Handler                                     â”‚
â”‚                                                               â”‚
â”‚  const handleScenarioSelect = (scenarioId) => {              â”‚
â”‚    setSelectedScenario(scenarioId);                          â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚                                     â”‚
                        â–¼                                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Local State Update â”‚          â”‚ Session Storage     â”‚
            â”‚                     â”‚          â”‚ Update              â”‚
            â”‚  useState Hook      â”‚          â”‚                     â”‚
            â”‚  Triggers Re-render â”‚          â”‚ sessionStorage      â”‚
            â”‚                     â”‚          â”‚   .setItem(...)     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                                â”‚
                       â”‚                                â”‚
                       â–¼                                â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Component          â”‚          â”‚  Persist Across     â”‚
            â”‚  Re-renders         â”‚          â”‚  Page Refreshes     â”‚
            â”‚                     â”‚          â”‚                     â”‚
            â”‚  React reconciles   â”‚          â”‚  Data available     â”‚
            â”‚  virtual DOM        â”‚          â”‚  on next load       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  useEffect Hook     â”‚
            â”‚  Triggered          â”‚
            â”‚                     â”‚
            â”‚  useEffect(() => {  â”‚
            â”‚    // Dependency    â”‚
            â”‚    // changed       â”‚
            â”‚    fetchData();     â”‚
            â”‚  }, [selected]);    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Dependent API Call â”‚
            â”‚                     â”‚
            â”‚  Load scenario data â”‚
            â”‚  based on selection â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Update Related     â”‚
            â”‚  State              â”‚
            â”‚                     â”‚
            â”‚  setScenarioData()  â”‚
            â”‚  setChartData()     â”‚
            â”‚  setTableData()     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Child Components   â”‚
            â”‚  Re-render          â”‚
            â”‚                     â”‚
            â”‚  Props changed,     â”‚
            â”‚  components update  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            CONTEXT-BASED STATE PROPAGATION                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NotificationContext Provider (Top Level)                      â”‚
â”‚                                                                 â”‚
â”‚  const [processes, setProcesses] = useState([]);               â”‚
â”‚                                                                 â”‚
â”‚  const addProcess = (process) => {                             â”‚
â”‚    setProcesses(prev => [...prev, process]);                  â”‚
â”‚  };                                                             â”‚
â”‚                                                                 â”‚
â”‚  <NotificationContext.Provider                                 â”‚
â”‚    value={{ processes, addProcess, ... }}>                    â”‚
â”‚    {children}                                                   â”‚
â”‚  </NotificationContext.Provider>                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ Context provides state to all children
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component A â”‚ â”‚  Component B â”‚ â”‚  Component C â”‚ â”‚  Component D â”‚
â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚
â”‚  const {     â”‚ â”‚  const {     â”‚ â”‚  const {     â”‚ â”‚  const {     â”‚
â”‚    processes,â”‚ â”‚    addProcessâ”‚ â”‚    processes â”‚ â”‚    processes â”‚
â”‚    addProcessâ”‚ â”‚  } = useNoti â”‚ â”‚  } = useNoti â”‚ â”‚  } = useNoti â”‚
â”‚  } = useNoti â”‚ â”‚   fication() â”‚ â”‚   fication() â”‚ â”‚   fication() â”‚
â”‚   fication() â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚
â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚
â”‚  // Add new  â”‚ â”‚  // Add new  â”‚ â”‚  // Display  â”‚ â”‚  // Display  â”‚
â”‚  // process  â”‚ â”‚  // process  â”‚ â”‚  // list     â”‚ â”‚  // count    â”‚
â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                â”‚
        â”‚                â”‚
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ One component calls addProcess()
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Context State Updates                                      â”‚
â”‚                                                              â”‚
â”‚  setProcesses([...prev, newProcess])                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ ALL consumers re-render
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component A â”‚ â”‚  Component B â”‚ â”‚  Component C â”‚ â”‚  Component D â”‚
â”‚  Re-renders  â”‚ â”‚  Re-renders  â”‚ â”‚  Re-renders  â”‚ â”‚  Re-renders  â”‚
â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚
â”‚  New process â”‚ â”‚  New process â”‚ â”‚  Updated     â”‚ â”‚  Updated     â”‚
â”‚  available   â”‚ â”‚  available   â”‚ â”‚  list        â”‚ â”‚  count       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.4 File System Interaction Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                PROJECT FILE STRUCTURE OPERATIONS                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Creates New Project
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Submit Project Details                           â”‚
â”‚                                                               â”‚
â”‚  const projectData = {                                       â”‚
â”‚    name: "My Energy Project",                                â”‚
â”‚    location: "Kerala",                                       â”‚
â”‚    start_year: 2024,                                         â”‚
â”‚    end_year: 2050                                            â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ POST /api/projects/create
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend: Create Directory Structure                        â”‚
â”‚                                                               â”‚
â”‚  project_path = /home/user/projects/my_energy_project/      â”‚
â”‚                                                               â”‚
â”‚  os.makedirs(project_path, exist_ok=True)                   â”‚
â”‚                                                               â”‚
â”‚  Directory Structure Created:                                â”‚
â”‚  my_energy_project/                                          â”‚
â”‚  â”œâ”€â”€ inputs/                                                 â”‚
â”‚  â”‚   â”œâ”€â”€ demand_input.xlsx                                  â”‚
â”‚  â”‚   â”œâ”€â”€ load_profile_constraints.xlsx                      â”‚
â”‚  â”‚   â””â”€â”€ pypsa_input_template.xlsx                          â”‚
â”‚  â”œâ”€â”€ outputs/                                                â”‚
â”‚  â”‚   â”œâ”€â”€ demand_forecasts/                                  â”‚
â”‚  â”‚   â”œâ”€â”€ load_profiles/                                     â”‚
â”‚  â”‚   â””â”€â”€ pypsa_results/                                     â”‚
â”‚  â”œâ”€â”€ scenarios/                                              â”‚
â”‚  â”‚   â””â”€â”€ default_scenario.json                              â”‚
â”‚  â”œâ”€â”€ networks/                                               â”‚
â”‚  â”‚   â””â”€â”€ base_network.nc                                    â”‚
â”‚  â”œâ”€â”€ cache/                                                  â”‚
â”‚  â”‚   â””â”€â”€ .gitkeep                                           â”‚
â”‚  â””â”€â”€ project.json                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Write Configuration Files                                   â”‚
â”‚                                                               â”‚
â”‚  project.json:                                               â”‚
â”‚  {                                                            â”‚
â”‚    "id": "uuid-123-456",                                     â”‚
â”‚    "name": "My Energy Project",                              â”‚
â”‚    "location": "Kerala",                                     â”‚
â”‚    "years": {"start": 2024, "end": 2050},                   â”‚
â”‚    "created_at": "2024-01-15T10:30:00",                      â”‚
â”‚    "last_modified": "2024-01-15T10:30:00",                   â”‚
â”‚    "version": "1.0"                                          â”‚
â”‚  }                                                            â”‚
â”‚                                                               â”‚
â”‚  Copy template files:                                        â”‚
â”‚  - Copy demand_input_template.xlsx â†’ inputs/                â”‚
â”‚  - Copy pypsa_template.xlsx â†’ inputs/                       â”‚
â”‚  - Copy default constraints â†’ inputs/                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Register in Projects Index                                  â”‚
â”‚                                                               â”‚
â”‚  projects_index.json:                                        â”‚
â”‚  {                                                            â”‚
â”‚    "projects": [                                             â”‚
â”‚      {                                                        â”‚
â”‚        "id": "uuid-123-456",                                 â”‚
â”‚        "name": "My Energy Project",                          â”‚
â”‚        "path": "/home/user/projects/my_energy_project",     â”‚
â”‚        "last_opened": "2024-01-15T10:30:00"                  â”‚
â”‚      }                                                        â”‚
â”‚    ]                                                          â”‚
â”‚  }                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Response
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Update UI                                         â”‚
â”‚                                                               â”‚
â”‚  setActiveProject(result.project);                           â”‚
â”‚  sessionStorage.setItem('activeProject',                     â”‚
â”‚                         JSON.stringify(result.project));     â”‚
â”‚  navigate('/demand-forecasting');                            â”‚
â”‚  toast.success('Project created successfully!');             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FILE READ/WRITE OPERATIONS                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Save Demand Forecast Results
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Prepare Results Data                                        â”‚
â”‚                                                               â”‚
â”‚  const results = {                                           â”‚
â”‚    scenario_id: "scenario-123",                              â”‚
â”‚    scenario_name: "Base Case",                               â”‚
â”‚    forecast_data: [...],  // Array of yearly data            â”‚
â”‚    model_info: {...},                                        â”‚
â”‚    timestamp: new Date().toISOString()                       â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ POST /api/save-forecast
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend: Save to Multiple Formats                          â”‚
â”‚                                                               â”‚
â”‚  1. Save as JSON (for quick loading)                         â”‚
â”‚     output_path = project/outputs/demand_forecasts/          â”‚
â”‚                   base_case_20240115.json                    â”‚
â”‚                                                               â”‚
â”‚     with open(output_path, 'w') as f:                        â”‚
â”‚         json.dump(results, f, indent=2)                      â”‚
â”‚                                                               â”‚
â”‚  2. Save as Excel (for user download)                        â”‚
â”‚     excel_path = project/outputs/demand_forecasts/           â”‚
â”‚                  base_case_20240115.xlsx                     â”‚
â”‚                                                               â”‚
â”‚     df = pd.DataFrame(results['forecast_data'])              â”‚
â”‚     df.to_excel(excel_path, index=False)                     â”‚
â”‚                                                               â”‚
â”‚  3. Update scenario metadata                                 â”‚
â”‚     scenario_path = project/scenarios/base_case.json         â”‚
â”‚                                                               â”‚
â”‚     scenario = json.load(open(scenario_path))                â”‚
â”‚     scenario['last_forecast'] = output_path                  â”‚
â”‚     scenario['last_modified'] = timestamp                    â”‚
â”‚     json.dump(scenario, open(scenario_path, 'w'))            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  File System State After Save                                â”‚
â”‚                                                               â”‚
â”‚  my_energy_project/                                          â”‚
â”‚  â””â”€â”€ outputs/                                                â”‚
â”‚      â””â”€â”€ demand_forecasts/                                   â”‚
â”‚          â”œâ”€â”€ base_case_20240115.json        (2.3 MB)        â”‚
â”‚          â”œâ”€â”€ base_case_20240115.xlsx        (1.8 MB)        â”‚
â”‚          â”œâ”€â”€ base_case_20240114.json        (2.2 MB)        â”‚
â”‚          â””â”€â”€ index.json                     (metadata)       â”‚
â”‚                                                               â”‚
â”‚  â””â”€â”€ scenarios/                                              â”‚
â”‚      â””â”€â”€ base_case.json                     (updated)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


---

## 8. Navigation & Routing Flows

### 8.1 Sidebar Navigation Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SIDEBAR NAVIGATION HIERARCHY                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sidebar Component                 â”‚
â”‚  (Always visible)                  â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Logo & Project Name         â”‚ â”‚
â”‚  â”‚  â”œâ”€ KSEB Logo                â”‚ â”‚
â”‚  â”‚  â””â”€ Active Project: [Name]   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Navigation Menu             â”‚ â”‚
â”‚  â”‚                              â”‚ â”‚
â”‚  â”‚  ğŸ  Home                     â”‚ â”œâ”€> Navigate to /home
â”‚  â”‚     (Always available)       â”‚ â”‚   â€¢ Show project list
â”‚  â”‚                              â”‚ â”‚   â€¢ Recent projects
â”‚  â”‚  ğŸ“Š Demand Forecasting       â”‚ â”œâ”€> Navigate to /demand-forecasting
â”‚  â”‚     (Requires active project)â”‚ â”‚   â€¢ Check activeProject
â”‚  â”‚                              â”‚ â”‚   â€¢ If null, show warning
â”‚  â”‚  âš¡ Load Profiles            â”‚ â”œâ”€> Navigate to /load-profiles
â”‚  â”‚     (Requires active project)â”‚ â”‚   â€¢ Requires demand forecast
â”‚  â”‚                              â”‚ â”‚   â€¢ completed first
â”‚  â”‚  ğŸ”Œ PyPSA Suite              â”‚ â”œâ”€> Navigate to /pypsa-suite
â”‚  â”‚     (Requires active project)â”‚ â”‚   â€¢ Requires load profiles
â”‚  â”‚     â””â”€ Model Config          â”‚ â”‚   â€¢ completed first
â”‚  â”‚     â””â”€ View Results          â”‚ â”‚
â”‚  â”‚                              â”‚ â”‚
â”‚  â”‚  âš™ï¸  Settings                â”‚ â”œâ”€> Navigate to /settings
â”‚  â”‚     (Always available)       â”‚ â”‚   â€¢ Color configuration
â”‚  â”‚                              â”‚ â”‚   â€¢ User preferences
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  User Info                   â”‚ â”‚
â”‚  â”‚  ğŸ‘¤ Username                 â”‚ â”‚
â”‚  â”‚  ğŸšª Logout                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Navigation Item Click Flow:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Clicks Menu Item
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  handleNavigation(path)                                      â”‚
â”‚                                                               â”‚
â”‚  1. Check if active project required                         â”‚
â”‚     if (requiresProject && !activeProject) {                 â”‚
â”‚       toast.warning('Please load or create a project');      â”‚
â”‚       return;                                                 â”‚
â”‚     }                                                         â”‚
â”‚                                                               â”‚
â”‚  2. Check prerequisites                                      â”‚
â”‚     if (path === '/load-profiles') {                         â”‚
â”‚       const hasForecast = checkForecastExists();             â”‚
â”‚       if (!hasForecast) {                                    â”‚
â”‚         toast.warning(                                       â”‚
â”‚           'Complete demand forecast first'                   â”‚
â”‚         );                                                    â”‚
â”‚         return;                                               â”‚
â”‚       }                                                       â”‚
â”‚     }                                                         â”‚
â”‚                                                               â”‚
â”‚  3. Update selected page in session storage                  â”‚
â”‚     sessionStorage.setItem('selectedPage', path);            â”‚
â”‚                                                               â”‚
â”‚  4. Navigate                                                 â”‚
â”‚     navigate(path);                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  React Router Handles Route Change                           â”‚
â”‚                                                               â”‚
â”‚  <Routes>                                                     â”‚
â”‚    <Route path="/home" element={<HomePage />} />            â”‚
â”‚    <Route path="/demand-forecasting"                        â”‚
â”‚           element={<DemandForecasting />} />                â”‚
â”‚    <Route path="/load-profiles"                             â”‚
â”‚           element={<LoadProfiles />} />                     â”‚
â”‚    <Route path="/pypsa-suite"                               â”‚
â”‚           element={<PyPSASuite />} />                       â”‚
â”‚    <Route path="/settings"                                  â”‚
â”‚           element={<Settings />} />                         â”‚
â”‚  </Routes>                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component Mounts                                            â”‚
â”‚                                                               â”‚
â”‚  useEffect(() => {                                           â”‚
â”‚    // Load page-specific data                                â”‚
â”‚    loadPageData();                                           â”‚
â”‚                                                               â”‚
â”‚    // Update breadcrumb                                      â”‚
â”‚    updateBreadcrumb(currentPath);                            â”‚
â”‚                                                               â”‚
â”‚    // Track analytics                                        â”‚
â”‚    trackPageView(currentPath);                               â”‚
â”‚  }, []);                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 Page Routing with Guards

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ROUTE GUARD IMPLEMENTATION                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ProtectedRoute Component                                    â”‚
â”‚                                                               â”‚
â”‚  const ProtectedRoute = ({                                   â”‚
â”‚    element,                                                   â”‚
â”‚    requiresProject = false,                                  â”‚
â”‚    requiresPrerequisite = null                               â”‚
â”‚  }) => {                                                      â”‚
â”‚    const { activeProject } = useProject();                   â”‚
â”‚    const navigate = useNavigate();                           â”‚
â”‚                                                               â”‚
â”‚    useEffect(() => {                                         â”‚
â”‚      // Guard 1: Check active project                        â”‚
â”‚      if (requiresProject && !activeProject) {                â”‚
â”‚        toast.error('Please load a project first');           â”‚
â”‚        navigate('/home');                                    â”‚
â”‚        return;                                                â”‚
â”‚      }                                                        â”‚
â”‚                                                               â”‚
â”‚      // Guard 2: Check prerequisites                         â”‚
â”‚      if (requiresPrerequisite) {                             â”‚
â”‚        const satisfied = checkPrerequisite(                  â”‚
â”‚          requiresPrerequisite,                               â”‚
â”‚          activeProject                                       â”‚
â”‚        );                                                     â”‚
â”‚                                                               â”‚
â”‚        if (!satisfied) {                                     â”‚
â”‚          toast.warning(                                      â”‚
â”‚            `Complete ${requiresPrerequisite} first`          â”‚
â”‚          );                                                   â”‚
â”‚          navigate('/home');                                  â”‚
â”‚          return;                                              â”‚
â”‚        }                                                      â”‚
â”‚      }                                                        â”‚
â”‚    }, [activeProject]);                                      â”‚
â”‚                                                               â”‚
â”‚    return element;                                           â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Route Configuration with Guards                             â”‚
â”‚                                                               â”‚
â”‚  <Routes>                                                     â”‚
â”‚    <Route path="/home"                                       â”‚
â”‚           element={<HomePage />}                             â”‚
â”‚    />                                                         â”‚
â”‚                                                               â”‚
â”‚    <Route path="/demand-forecasting"                        â”‚
â”‚           element={                                          â”‚
â”‚             <ProtectedRoute                                  â”‚
â”‚               requiresProject={true}                         â”‚
â”‚               element={<DemandForecasting />}                â”‚
â”‚             />                                                â”‚
â”‚           }                                                   â”‚
â”‚    />                                                         â”‚
â”‚                                                               â”‚
â”‚    <Route path="/load-profiles"                             â”‚
â”‚           element={                                          â”‚
â”‚             <ProtectedRoute                                  â”‚
â”‚               requiresProject={true}                         â”‚
â”‚               requiresPrerequisite="demand-forecast"         â”‚
â”‚               element={<LoadProfiles />}                     â”‚
â”‚             />                                                â”‚
â”‚           }                                                   â”‚
â”‚    />                                                         â”‚
â”‚                                                               â”‚
â”‚    <Route path="/pypsa-suite"                               â”‚
â”‚           element={                                          â”‚
â”‚             <ProtectedRoute                                  â”‚
â”‚               requiresProject={true}                         â”‚
â”‚               requiresPrerequisite="load-profiles"           â”‚
â”‚               element={<PyPSASuite />}                       â”‚
â”‚             />                                                â”‚
â”‚           }                                                   â”‚
â”‚    />                                                         â”‚
â”‚  </Routes>                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Navigation Flow with Guards:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User navigates to /load-profiles
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ProtectedRoute Activated                                    â”‚
â”‚                                                               â”‚
â”‚  Guard Check 1: requiresProject = true                       â”‚
â”‚  â”œâ”€ Check activeProject exists                               â”‚
â”‚  â”‚  â”œâ”€ YES: Continue âœ“                                       â”‚
â”‚  â”‚  â””â”€ NO: Redirect to /home âœ—                               â”‚
â”‚  â”‚         Show error toast                                  â”‚
â”‚  â”‚                                                            â”‚
â”‚  Guard Check 2: requiresPrerequisite = "demand-forecast"     â”‚
â”‚  â””â”€ Check if demand forecast completed                       â”‚
â”‚     â”œâ”€ Call checkPrerequisite()                              â”‚
â”‚     â”‚  â”œâ”€ Check project/outputs/demand_forecasts/            â”‚
â”‚     â”‚  â””â”€ Verify forecast file exists                        â”‚
â”‚     â”‚                                                          â”‚
â”‚     â”œâ”€ YES: Allow access âœ“                                   â”‚
â”‚     â”‚  â””â”€> Render <LoadProfiles />                           â”‚
â”‚     â”‚                                                          â”‚
â”‚     â””â”€ NO: Redirect to /demand-forecasting âœ—                 â”‚
â”‚        â””â”€> Show warning toast                                â”‚
â”‚           "Please complete demand forecast first"            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 Workflow Stepper Progression

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              MULTI-STEP WIZARD NAVIGATION (e.g., Load Profiles)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Stepper UI Component                                          â”‚
â”‚                                                                 â”‚
â”‚  Step 1: Method      Step 2: Data       Step 3: Constraints    â”‚
â”‚  â—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”> â—‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”> â—‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”> â—‹      â”‚
â”‚  (Active)            (Inactive)        (Inactive)     (Review)  â”‚
â”‚                                                                 â”‚
â”‚  [< Back]                                           [Next >]   â”‚
â”‚  (Disabled on step 1)                      (Enabled if valid)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

State Management:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const [currentStep, setCurrentStep] = useState(0);
const [stepData, setStepData] = useState({
  method: null,        // Step 1 data
  dataSource: null,    // Step 2 data
  constraints: null,   // Step 3 data
  review: null         // Step 4 data
});
const [stepValidation, setStepValidation] = useState({
  0: false,  // Step 1 invalid
  1: false,  // Step 2 invalid
  2: false,  // Step 3 invalid
  3: false   // Step 4 invalid
});


User Interaction Flow:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Step 1: User selects method
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  handleMethodSelect(method)                                  â”‚
â”‚                                                               â”‚
â”‚  1. Update step data                                         â”‚
â”‚     setStepData(prev => ({                                   â”‚
â”‚       ...prev,                                                â”‚
â”‚       method: method                                         â”‚
â”‚     }));                                                      â”‚
â”‚                                                               â”‚
â”‚  2. Validate step                                            â”‚
â”‚     const isValid = validateStep1(method);                   â”‚
â”‚     setStepValidation(prev => ({                             â”‚
â”‚       ...prev,                                                â”‚
â”‚       0: isValid                                             â”‚
â”‚     }));                                                      â”‚
â”‚                                                               â”‚
â”‚  3. Enable/Disable Next button                               â”‚
â”‚     if (isValid) {                                           â”‚
â”‚       enableNextButton();                                    â”‚
â”‚     }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ User clicks "Next"
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  handleNext()                                                â”‚
â”‚                                                               â”‚
â”‚  1. Re-validate current step                                 â”‚
â”‚     if (!stepValidation[currentStep]) {                      â”‚
â”‚       toast.error('Please complete required fields');        â”‚
â”‚       return;                                                 â”‚
â”‚     }                                                         â”‚
â”‚                                                               â”‚
â”‚  2. Save current step data                                   â”‚
â”‚     saveStepData(currentStep, stepData);                     â”‚
â”‚                                                               â”‚
â”‚  3. Increment step                                           â”‚
â”‚     setCurrentStep(prev => prev + 1);                        â”‚
â”‚                                                               â”‚
â”‚  4. Load next step data (if revisiting)                      â”‚
â”‚     const nextStepData = loadStepData(currentStep + 1);      â”‚
â”‚     if (nextStepData) {                                      â”‚
â”‚       populateForm(nextStepData);                            â”‚
â”‚     }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Stepper UI Updates                                         â”‚
â”‚                                                             â”‚
â”‚  Step 1: Method    Step 2: Data       Step 3: Constraints  â”‚
â”‚  â—â”â”â”â”â”â”â”â”â”â”â”â”â”â”> â—â”â”â”â”â”â”â”â”â”â”â”â”â”â”> â—‹â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”> â—‹    â”‚
â”‚  (Completed)       (Active)          (Inactive)   (Review)  â”‚
â”‚                                                             â”‚
â”‚  [< Back]                                        [Next >]  â”‚
â”‚  (Now enabled)                          (Disabled until    â”‚
â”‚                                          step 2 valid)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Complete Stepper Flow:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1  â”‚â”€â”€â”€â”€>â”‚ Step 2  â”‚â”€â”€â”€â”€>â”‚ Step 3  â”‚â”€â”€â”€â”€>â”‚ Step 4  â”‚
â”‚ Method  â”‚     â”‚ Data    â”‚     â”‚Constrntsâ”‚     â”‚ Review  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚               â”‚               â”‚               â”‚
    â”‚ Validate      â”‚ Validate      â”‚ Validate      â”‚ Submit
    â–¼               â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Enable  â”‚     â”‚ Enable  â”‚     â”‚ Enable  â”‚     â”‚ Execute â”‚
â”‚ Next    â”‚     â”‚ Next    â”‚     â”‚ Next    â”‚     â”‚ API Callâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      â”‚
                                                      â–¼
                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                              â”‚ Show Progress  â”‚
                                              â”‚ SSE Stream     â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.4 Session State Persistence

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SESSION STORAGE PERSISTENCE PATTERN                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Component Mount (e.g., Page Load/Refresh)
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useEffect on Component Mount                                â”‚
â”‚                                                               â”‚
â”‚  useEffect(() => {                                           â”‚
â”‚    // Restore active project                                 â”‚
â”‚    const savedProject = sessionStorage.getItem(              â”‚
â”‚      'activeProject'                                         â”‚
â”‚    );                                                         â”‚
â”‚    if (savedProject) {                                       â”‚
â”‚      setActiveProject(JSON.parse(savedProject));             â”‚
â”‚    }                                                          â”‚
â”‚                                                               â”‚
â”‚    // Restore selected page                                  â”‚
â”‚    const savedPage = sessionStorage.getItem('selectedPage'); â”‚
â”‚    if (savedPage && savedPage !== currentPath) {             â”‚
â”‚      navigate(savedPage);                                    â”‚
â”‚    }                                                          â”‚
â”‚                                                               â”‚
â”‚    // Restore form data (if on multi-step wizard)            â”‚
â”‚    const savedFormData = sessionStorage.getItem(             â”‚
â”‚      'wizardFormData'                                        â”‚
â”‚    );                                                         â”‚
â”‚    if (savedFormData) {                                      â”‚
â”‚      setFormData(JSON.parse(savedFormData));                 â”‚
â”‚    }                                                          â”‚
â”‚  }, []);                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Restored state
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component Renders with Restored State                       â”‚
â”‚                                                               â”‚
â”‚  â€¢ Active project loaded                                     â”‚
â”‚  â€¢ Current page restored                                     â”‚
â”‚  â€¢ Form data populated                                       â”‚
â”‚  â€¢ User sees where they left off                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


State Update â†’ Storage Pattern:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Updates State (e.g., changes form field)
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  State Update Handler                                        â”‚
â”‚                                                               â”‚
â”‚  const handleFormChange = (field, value) => {                â”‚
â”‚    // Update React state                                     â”‚
â”‚    setFormData(prev => ({                                    â”‚
â”‚      ...prev,                                                 â”‚
â”‚      [field]: value                                          â”‚
â”‚    }));                                                       â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useEffect Watches State                                     â”‚
â”‚                                                               â”‚
â”‚  useEffect(() => {                                           â”‚
â”‚    // Persist to session storage whenever formData changes   â”‚
â”‚    sessionStorage.setItem(                                   â”‚
â”‚      'wizardFormData',                                       â”‚
â”‚      JSON.stringify(formData)                                â”‚
â”‚    );                                                         â”‚
â”‚  }, [formData]);                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Persisted to sessionStorage
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Browser sessionStorage                                      â”‚
â”‚                                                               â”‚
â”‚  Key: wizardFormData                                         â”‚
â”‚  Value: {                                                    â”‚
â”‚    "method": "historical",                                   â”‚
â”‚    "dataSource": "uploaded_file",                            â”‚
â”‚    "constraints": {...}                                      â”‚
â”‚  }                                                            â”‚
â”‚                                                               â”‚
â”‚  â€¢ Survives page refresh                                     â”‚
â”‚  â€¢ Cleared on tab close                                      â”‚
â”‚  â€¢ Scoped to origin                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Session Storage Keys Used:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Key                    â”‚ Purpose                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ activeProject          â”‚ Current loaded project info          â”‚
â”‚ selectedPage           â”‚ Last visited page path               â”‚
â”‚ wizardFormData         â”‚ Multi-step form progress             â”‚
â”‚ demandForecastConfig   â”‚ Demand forecast modal config         â”‚
â”‚ loadProfileConfig      â”‚ Load profile wizard config           â”‚
â”‚ pypsaModelConfig       â”‚ PyPSA model configuration            â”‚
â”‚ chartPreferences       â”‚ User chart display preferences       â”‚
â”‚ tableFilters           â”‚ Active table filters/sorts           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.5 Deep Linking & URL Parameters

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 URL PARAMETER HANDLING                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

URL with Parameters:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

https://app.example.com/demand-forecasting?scenario=base-case&year=2030


Component Reads URL Parameters:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useSearchParams Hook                                        â”‚
â”‚                                                               â”‚
â”‚  import { useSearchParams } from 'react-router-dom';         â”‚
â”‚                                                               â”‚
â”‚  const [searchParams, setSearchParams] = useSearchParams();  â”‚
â”‚                                                               â”‚
â”‚  useEffect(() => {                                           â”‚
â”‚    // Read parameters                                        â”‚
â”‚    const scenario = searchParams.get('scenario');            â”‚
â”‚    const year = searchParams.get('year');                    â”‚
â”‚                                                               â”‚
â”‚    // If parameters present, load corresponding data         â”‚
â”‚    if (scenario) {                                           â”‚
â”‚      loadScenario(scenario);                                 â”‚
â”‚    }                                                          â”‚
â”‚                                                               â”‚
â”‚    if (year) {                                               â”‚
â”‚      setSelectedYear(parseInt(year));                        â”‚
â”‚    }                                                          â”‚
â”‚  }, [searchParams]);                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component Renders with URL State                            â”‚
â”‚                                                               â”‚
â”‚  â€¢ Scenario "base-case" loaded                               â”‚
â”‚  â€¢ Year 2030 selected                                        â”‚
â”‚  â€¢ Charts updated to show this data                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Updating URL on User Action:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User selects different scenario
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  handleScenarioChange(newScenario)                           â”‚
â”‚                                                               â”‚
â”‚  // Update local state                                       â”‚
â”‚  setSelectedScenario(newScenario);                           â”‚
â”‚                                                               â”‚
â”‚  // Update URL parameters (without page reload)              â”‚
â”‚  setSearchParams({                                           â”‚
â”‚    scenario: newScenario,                                    â”‚
â”‚    year: selectedYear                                        â”‚
â”‚  });                                                          â”‚
â”‚                                                               â”‚
â”‚  // URL becomes:                                             â”‚
â”‚  // /demand-forecasting?scenario=high-growth&year=2030       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Benefits                                                    â”‚
â”‚                                                               â”‚
â”‚  âœ“ Shareable URLs - User can copy/paste link to share       â”‚
â”‚  âœ“ Bookmarkable - Browser bookmark saves exact view         â”‚
â”‚  âœ“ Browser history - Back/forward buttons work              â”‚
â”‚  âœ“ Deep linking - Direct link to specific view              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


---

## 9. Real-Time Communication Flows

### 9.1 Server-Sent Events (SSE) Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SSE CONNECTION LIFECYCLE                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Initiates Long-Running Operation
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Start Operation                                   â”‚
â”‚                                                               â”‚
â”‚  1. Generate process ID                                      â”‚
â”‚     const process_id = uuid();                               â”‚
â”‚                                                               â”‚
â”‚  2. Start operation via API                                  â”‚
â”‚     const result = await api.startForecast({                 â”‚
â”‚       ...config,                                             â”‚
â”‚       process_id                                             â”‚
â”‚     });                                                       â”‚
â”‚                                                               â”‚
â”‚  3. If successful, establish SSE connection                  â”‚
â”‚     if (result.success) {                                    â”‚
â”‚       connectToSSE(process_id);                              â”‚
â”‚     }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Establish SSE Connection                                    â”‚
â”‚                                                               â”‚
â”‚  const eventSource = new EventSource(                        â”‚
â”‚    `/api/forecast/progress/${process_id}`                    â”‚
â”‚  );                                                           â”‚
â”‚                                                               â”‚
â”‚  // Set up event listeners                                   â”‚
â”‚  eventSource.addEventListener('progress', handleProgress);   â”‚
â”‚  eventSource.addEventListener('log', handleLog);             â”‚
â”‚  eventSource.addEventListener('complete', handleComplete);   â”‚
â”‚  eventSource.addEventListener('error', handleError);         â”‚
â”‚                                                               â”‚
â”‚  // Store reference for cleanup                              â”‚
â”‚  eventSourceRef.current = eventSource;                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ HTTP GET /api/forecast/progress/{id}
                        â”‚ Headers: Accept: text/event-stream
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend: SSE Endpoint                                       â”‚
â”‚  (backend/app/api/endpoints/demand_forecast.py)              â”‚
â”‚                                                               â”‚
â”‚  @router.get("/forecast/progress/{process_id}")              â”‚
â”‚  async def stream_forecast_progress(process_id: str):        â”‚
â”‚      async def event_generator():                            â”‚
â”‚          try:                                                 â”‚
â”‚              while True:                                     â”‚
â”‚                  # Get current process status                â”‚
â”‚                  status = get_process_status(process_id)     â”‚
â”‚                                                               â”‚
â”‚                  # Send progress event                       â”‚
â”‚                  yield {                                     â”‚
â”‚                      "event": "progress",                    â”‚
â”‚                      "data": json.dumps({                    â”‚
â”‚                          "percentage": status.progress,      â”‚
â”‚                          "message": status.message           â”‚
â”‚                      })                                       â”‚
â”‚                  }                                            â”‚
â”‚                                                               â”‚
â”‚                  # Check if completed                        â”‚
â”‚                  if status.completed:                        â”‚
â”‚                      yield {                                 â”‚
â”‚                          "event": "complete",                â”‚
â”‚                          "data": json.dumps(status.result)   â”‚
â”‚                      }                                        â”‚
â”‚                      break                                   â”‚
â”‚                                                               â”‚
â”‚                  # Wait before next update                   â”‚
â”‚                  await asyncio.sleep(0.5)                    â”‚
â”‚                                                               â”‚
â”‚          except Exception as e:                              â”‚
â”‚              yield {                                         â”‚
â”‚                  "event": "error",                           â”‚
â”‚                  "data": json.dumps({"error": str(e)})       â”‚
â”‚              }                                                â”‚
â”‚                                                               â”‚
â”‚      return StreamingResponse(                               â”‚
â”‚          event_generator(),                                  â”‚
â”‚          media_type="text/event-stream",                     â”‚
â”‚          headers={                                            â”‚
â”‚              "Cache-Control": "no-cache",                    â”‚
â”‚              "Connection": "keep-alive"                      â”‚
â”‚          }                                                    â”‚
â”‚      )                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ SSE Stream (text/event-stream)
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Event Stream Data Format                                    â”‚
â”‚                                                               â”‚
â”‚  event: progress                                             â”‚
â”‚  data: {"percentage": 25, "message": "Processing data..."}   â”‚
â”‚                                                               â”‚
â”‚  event: log                                                  â”‚
â”‚  data: {"level": "info", "text": "Year 2025 processed"}      â”‚
â”‚                                                               â”‚
â”‚  event: progress                                             â”‚
â”‚  data: {"percentage": 50, "message": "Running models..."}    â”‚
â”‚                                                               â”‚
â”‚  event: log                                                  â”‚
â”‚  data: {"level": "info", "text": "Model RÂ²: 0.95"}           â”‚
â”‚                                                               â”‚
â”‚  event: complete                                             â”‚
â”‚  data: {"success": true, "result_id": "abc-123"}             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Events received by browser
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Event Handlers                                    â”‚
â”‚                                                               â”‚
â”‚  const handleProgress = (event) => {                         â”‚
â”‚    const data = JSON.parse(event.data);                      â”‚
â”‚    setProgress(data.percentage);                             â”‚
â”‚    setStatusMessage(data.message);                           â”‚
â”‚  };                                                           â”‚
â”‚                                                               â”‚
â”‚  const handleLog = (event) => {                              â”‚
â”‚    const log = JSON.parse(event.data);                       â”‚
â”‚    setLogs(prev => [...prev, log]);                          â”‚
â”‚  };                                                           â”‚
â”‚                                                               â”‚
â”‚  const handleComplete = (event) => {                         â”‚
â”‚    const result = JSON.parse(event.data);                    â”‚
â”‚    setIsRunning(false);                                      â”‚
â”‚    setProgress(100);                                         â”‚
â”‚    toast.success('Forecast completed!');                     â”‚
â”‚    eventSourceRef.current?.close();                          â”‚
â”‚    loadResults(result.result_id);                            â”‚
â”‚  };                                                           â”‚
â”‚                                                               â”‚
â”‚  const handleError = (event) => {                            â”‚
â”‚    const error = JSON.parse(event.data);                     â”‚
â”‚    setIsRunning(false);                                      â”‚
â”‚    setError(error.error);                                    â”‚
â”‚    toast.error('Forecast failed');                           â”‚
â”‚    eventSourceRef.current?.close();                          â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UI Updates in Real-Time                                     â”‚
â”‚                                                               â”‚
â”‚  Progress Bar: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 60%                     â”‚
â”‚  Status: "Running models..."                                 â”‚
â”‚                                                               â”‚
â”‚  Logs:                                                       â”‚
â”‚  [10:30:15] INFO: Year 2025 processed                        â”‚
â”‚  [10:30:18] INFO: Model RÂ²: 0.95                             â”‚
â”‚  [10:30:20] INFO: Generating forecasts...                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Connection Cleanup:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Component Unmount or Operation Complete
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cleanup useEffect                                           â”‚
â”‚                                                               â”‚
â”‚  useEffect(() => {                                           â”‚
â”‚    return () => {                                            â”‚
â”‚      // Close SSE connection on unmount                      â”‚
â”‚      if (eventSourceRef.current) {                           â”‚
â”‚        eventSourceRef.current.close();                       â”‚
â”‚        eventSourceRef.current = null;                        â”‚
â”‚      }                                                        â”‚
â”‚    };                                                         â”‚
â”‚  }, []);                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 Dual SSE Streams (PyPSA Example)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            PARALLEL SSE STREAMS FOR PROGRESS & LOGS                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Starts PyPSA Optimization
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Start Optimization & Establish Two SSE Connections          â”‚
â”‚                                                               â”‚
â”‚  const process_id = uuid();                                  â”‚
â”‚  await api.startPyPSA({ ...config, process_id });            â”‚
â”‚                                                               â”‚
â”‚  // Connection 1: Progress updates                           â”‚
â”‚  const progressES = new EventSource(                         â”‚
â”‚    `/api/pypsa/progress/${process_id}`                       â”‚
â”‚  );                                                           â”‚
â”‚  progressES.addEventListener('update', handleProgress);      â”‚
â”‚                                                               â”‚
â”‚  // Connection 2: Solver logs                                â”‚
â”‚  const logsES = new EventSource(                             â”‚
â”‚    `/api/pypsa/logs/${process_id}`                           â”‚
â”‚  );                                                           â”‚
â”‚  logsES.addEventListener('log', handleSolverLog);            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                        â”‚                     â”‚
                        â–¼                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Progress Stream    â”‚  â”‚  Logs Stream        â”‚
            â”‚  (Fast updates)     â”‚  â”‚  (Variable rate)    â”‚
            â”‚                     â”‚  â”‚                     â”‚
            â”‚  Every 500ms:       â”‚  â”‚  As solver outputs: â”‚
            â”‚  â€¢ Percentage       â”‚  â”‚  â€¢ Solver messages  â”‚
            â”‚  â€¢ Current phase    â”‚  â”‚  â€¢ Warnings         â”‚
            â”‚  â€¢ ETA              â”‚  â”‚  â€¢ Debug info       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                        â”‚
                       â”‚                        â”‚
                       â–¼                        â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Progress Handler   â”‚  â”‚  Log Handler        â”‚
            â”‚                     â”‚  â”‚                     â”‚
            â”‚  setProgress(data)  â”‚  â”‚  appendLog(log)     â”‚
            â”‚  setPhase(data)     â”‚  â”‚  scrollToBottom()   â”‚
            â”‚  setETA(data)       â”‚  â”‚                     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                        â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  UI Updates        â”‚
                        â”‚                    â”‚
                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                        â”‚  â”‚Progress: 45% â”‚  â”‚
                        â”‚  â”‚Phase: Solvingâ”‚  â”‚
                        â”‚  â”‚ETA: 2m 30s   â”‚  â”‚
                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                        â”‚                    â”‚
                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                        â”‚  â”‚Solver Logs:  â”‚  â”‚
                        â”‚  â”‚> Init vars   â”‚  â”‚
                        â”‚  â”‚> Simplex it1 â”‚  â”‚
                        â”‚  â”‚> Optimal     â”‚  â”‚
                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Backend Implementation (Dual Streams):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Progress Stream Endpoint                                    â”‚
â”‚                                                               â”‚
â”‚  @router.get("/pypsa/progress/{process_id}")                 â”‚
â”‚  async def stream_progress(process_id: str):                 â”‚
â”‚      async def generator():                                  â”‚
â”‚          while True:                                         â”‚
â”‚              status = pypsa_processes[process_id]            â”‚
â”‚                                                               â”‚
â”‚              yield {                                         â”‚
â”‚                  "event": "update",                          â”‚
â”‚                  "data": json.dumps({                        â”‚
â”‚                      "percentage": status.progress,          â”‚
â”‚                      "phase": status.phase,                  â”‚
â”‚                      "eta_seconds": status.eta               â”‚
â”‚                  })                                           â”‚
â”‚              }                                                â”‚
â”‚                                                               â”‚
â”‚              if status.completed or status.failed:           â”‚
â”‚                  break                                       â”‚
â”‚                                                               â”‚
â”‚              await asyncio.sleep(0.5)  # 500ms updates       â”‚
â”‚                                                               â”‚
â”‚      return StreamingResponse(generator(), ...)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logs Stream Endpoint                                        â”‚
â”‚                                                               â”‚
â”‚  @router.get("/pypsa/logs/{process_id}")                     â”‚
â”‚  async def stream_logs(process_id: str):                     â”‚
â”‚      async def generator():                                  â”‚
â”‚          last_log_index = 0                                  â”‚
â”‚                                                               â”‚
â”‚          while True:                                         â”‚
â”‚              status = pypsa_processes[process_id]            â”‚
â”‚              logs = status.logs                              â”‚
â”‚                                                               â”‚
â”‚              # Send only new logs                            â”‚
â”‚              new_logs = logs[last_log_index:]                â”‚
â”‚              for log in new_logs:                            â”‚
â”‚                  yield {                                     â”‚
â”‚                      "event": "log",                         â”‚
â”‚                      "data": json.dumps({                    â”‚
â”‚                          "timestamp": log.timestamp,         â”‚
â”‚                          "level": log.level,                 â”‚
â”‚                          "text": log.text                    â”‚
â”‚                      })                                       â”‚
â”‚                  }                                            â”‚
â”‚              last_log_index = len(logs)                      â”‚
â”‚                                                               â”‚
â”‚              if status.completed or status.failed:           â”‚
â”‚                  break                                       â”‚
â”‚                                                               â”‚
â”‚              await asyncio.sleep(0.1)  # Check every 100ms   â”‚
â”‚                                                               â”‚
â”‚      return StreamingResponse(generator(), ...)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.3 SSE Error Handling & Reconnection

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                SSE ERROR HANDLING & AUTO-RECONNECT                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Normal Operation
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SSE Connection Active                                       â”‚
â”‚  Receiving events normally                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Network interruption
                        â”‚ Server restart
                        â”‚ Connection timeout
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EventSource 'error' Event Triggered                         â”‚
â”‚                                                               â”‚
â”‚  eventSource.onerror = (error) => {                          â”‚
â”‚    console.error('SSE connection error:', error);            â”‚
â”‚    handleSSEError(error);                                    â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Error Handler with Reconnection Logic                       â”‚
â”‚                                                               â”‚
â”‚  const handleSSEError = (error) => {                         â”‚
â”‚    // Check connection state                                 â”‚
â”‚    if (eventSource.readyState === EventSource.CLOSED) {      â”‚
â”‚      console.log('SSE connection closed, attempting          â”‚
â”‚                   reconnect...');                             â”‚
â”‚                                                               â”‚
â”‚      // Increment retry count                                â”‚
â”‚      retryCount++;                                           â”‚
â”‚                                                               â”‚
â”‚      // Max retries check                                    â”‚
â”‚      if (retryCount > MAX_RETRIES) {                         â”‚
â”‚        toast.error('Connection lost. Please refresh.');      â”‚
â”‚        setIsRunning(false);                                  â”‚
â”‚        return;                                                â”‚
â”‚      }                                                        â”‚
â”‚                                                               â”‚
â”‚      // Exponential backoff                                  â”‚
â”‚      const delay = Math.min(                                 â”‚
â”‚        1000 * Math.pow(2, retryCount),                       â”‚
â”‚        30000  // Max 30 seconds                              â”‚
â”‚      );                                                       â”‚
â”‚                                                               â”‚
â”‚      // Schedule reconnect                                   â”‚
â”‚      setTimeout(() => {                                      â”‚
â”‚        console.log(`Reconnecting (attempt ${retryCount})...`);â”‚
â”‚        reconnectSSE();                                       â”‚
â”‚      }, delay);                                              â”‚
â”‚                                                               â”‚
â”‚      // Show user notification                               â”‚
â”‚      toast.warning(                                          â”‚
â”‚        `Connection interrupted. Reconnecting in              â”‚
â”‚         ${delay/1000}s...`                                    â”‚
â”‚      );                                                       â”‚
â”‚    }                                                          â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Reconnect Function                                          â”‚
â”‚                                                               â”‚
â”‚  const reconnectSSE = () => {                                â”‚
â”‚    // Close old connection if exists                         â”‚
â”‚    if (eventSourceRef.current) {                             â”‚
â”‚      eventSourceRef.current.close();                         â”‚
â”‚    }                                                          â”‚
â”‚                                                               â”‚
â”‚    // Establish new connection                               â”‚
â”‚    const newEventSource = new EventSource(sseUrl);           â”‚
â”‚                                                               â”‚
â”‚    // Re-attach event listeners                              â”‚
â”‚    newEventSource.addEventListener('progress',               â”‚
â”‚                                    handleProgress);           â”‚
â”‚    newEventSource.addEventListener('log', handleLog);        â”‚
â”‚    newEventSource.addEventListener('complete',               â”‚
â”‚                                    handleComplete);           â”‚
â”‚    newEventSource.onerror = handleSSEError;                  â”‚
â”‚                                                               â”‚
â”‚    // Update reference                                       â”‚
â”‚    eventSourceRef.current = newEventSource;                  â”‚
â”‚                                                               â”‚
â”‚    // Check if process still exists on backend               â”‚
â”‚    verifyProcessStatus(process_id).then(status => {          â”‚
â”‚      if (status.exists) {                                    â”‚
â”‚        toast.success('Connection restored!');                â”‚
â”‚        retryCount = 0;  // Reset retry count                 â”‚
â”‚      } else {                                                 â”‚
â”‚        toast.error('Process not found on server');           â”‚
â”‚        setIsRunning(false);                                  â”‚
â”‚        newEventSource.close();                               â”‚
â”‚      }                                                        â”‚
â”‚    });                                                        â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Reconnection Flow Diagram:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Connection Lost
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Retry #1    â”‚ Wait 1s
â”‚ (1s delay)  â”‚â”€â”€â”€â”€â”€â”€â”€> Attempt reconnect
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â”‚
       â”‚ Failed              â”‚ Success
       â”‚                     â”‚
       â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Retry #2    â”‚         â”‚ Connected!   â”‚
â”‚ (2s delay)  â”‚         â”‚ Reset counterâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚ Resume streamâ”‚
       â”‚ Failed         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Retry #3    â”‚
â”‚ (4s delay)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Failed
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Retry #4    â”‚
â”‚ (8s delay)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Failed
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Retry #5    â”‚
â”‚ (16s delay) â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Failed
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Max retries reached â”‚
â”‚ Show error message  â”‚
â”‚ Stop attempting     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.4 Process Cancellation via SSE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              USER-INITIATED PROCESS CANCELLATION                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Process Running (SSE streaming progress)
     â”‚
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Clicks "Stop" Button                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Cancel Request                                    â”‚
â”‚                                                               â”‚
â”‚  const handleCancel = async () => {                          â”‚
â”‚    // Show confirmation                                      â”‚
â”‚    const confirmed = await confirm(                          â”‚
â”‚      'Are you sure you want to stop this process?'           â”‚
â”‚    );                                                         â”‚
â”‚                                                               â”‚
â”‚    if (!confirmed) return;                                   â”‚
â”‚                                                               â”‚
â”‚    // Disable stop button, show loading                      â”‚
â”‚    setIsCancelling(true);                                    â”‚
â”‚                                                               â”‚
â”‚    // Send cancel request to backend                         â”‚
â”‚    const result = await api.cancelProcess(process_id);       â”‚
â”‚                                                               â”‚
â”‚    if (result.success) {                                     â”‚
â”‚      toast.info('Cancellation requested...');                â”‚
â”‚    } else {                                                   â”‚
â”‚      toast.error('Failed to cancel process');                â”‚
â”‚      setIsCancelling(false);                                 â”‚
â”‚    }                                                          â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ POST /api/cancel/{process_id}
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend: Cancel Endpoint                                    â”‚
â”‚                                                               â”‚
â”‚  @router.post("/cancel/{process_id}")                        â”‚
â”‚  async def cancel_process(process_id: str):                  â”‚
â”‚      if process_id not in active_processes:                  â”‚
â”‚          return {"success": False,                           â”‚
â”‚                  "error": "Process not found"}               â”‚
â”‚                                                               â”‚
â”‚      process = active_processes[process_id]                  â”‚
â”‚                                                               â”‚
â”‚      # Set cancellation flag                                 â”‚
â”‚      process.cancellation_requested = True                   â”‚
â”‚                                                               â”‚
â”‚      # Send SIGTERM to subprocess (graceful)                 â”‚
â”‚      if process.subprocess:                                  â”‚
â”‚          process.subprocess.terminate()                      â”‚
â”‚                                                               â”‚
â”‚          # Wait up to 5 seconds for graceful shutdown        â”‚
â”‚          try:                                                 â”‚
â”‚              process.subprocess.wait(timeout=5)              â”‚
â”‚          except subprocess.TimeoutExpired:                   â”‚
â”‚              # Force kill if not responding                  â”‚
â”‚              process.subprocess.kill()                       â”‚
â”‚                                                               â”‚
â”‚      # Update process status                                 â”‚
â”‚      process.status = 'cancelled'                            â”‚
â”‚      process.message = 'Process cancelled by user'           â”‚
â”‚                                                               â”‚
â”‚      return {"success": True}                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Process status updated
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SSE Stream Detects Cancellation                             â”‚
â”‚                                                               â”‚
â”‚  async def event_generator():                                â”‚
â”‚      while True:                                             â”‚
â”‚          status = get_process_status(process_id)             â”‚
â”‚                                                               â”‚
â”‚          if status == 'cancelled':                           â”‚
â”‚              # Send cancellation event                       â”‚
â”‚              yield {                                         â”‚
â”‚                  "event": "cancelled",                       â”‚
â”‚                  "data": json.dumps({                        â”‚
â”‚                      "message": "Process cancelled by user"  â”‚
â”‚                  })                                           â”‚
â”‚              }                                                â”‚
â”‚              break  # Close stream                           â”‚
â”‚                                                               â”‚
â”‚          # ... normal progress events ...                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ 'cancelled' event sent to frontend
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Handle Cancellation Event                         â”‚
â”‚                                                               â”‚
â”‚  eventSource.addEventListener('cancelled', (event) => {      â”‚
â”‚    const data = JSON.parse(event.data);                      â”‚
â”‚                                                               â”‚
â”‚    // Update UI state                                        â”‚
â”‚    setIsRunning(false);                                      â”‚
â”‚    setIsCancelling(false);                                   â”‚
â”‚    setStatus('cancelled');                                   â”‚
â”‚                                                               â”‚
â”‚    // Show notification                                      â”‚
â”‚    toast.warning(data.message);                              â”‚
â”‚                                                               â”‚
â”‚    // Close SSE connection                                   â”‚
â”‚    eventSource.close();                                      â”‚
â”‚                                                               â”‚
â”‚    // Clean up process reference                             â”‚
â”‚    removeProcess(process_id);                                â”‚
â”‚  });                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UI Updates                                                  â”‚
â”‚                                                               â”‚
â”‚  Progress Bar: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 40% (stopped)            â”‚
â”‚  Status: "âš ï¸  Process cancelled by user"                     â”‚
â”‚  [Start] button re-enabled                                   â”‚
â”‚  [Stop] button disabled                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


---

## 10. State Management Flows

### 10.1 localStorage Patterns (Persistent Storage)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               localStorage PERSISTENCE (Survives Browser Close)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Application Startup
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  App.jsx - Load Persistent State                            â”‚
â”‚                                                               â”‚
â”‚  useEffect(() => {                                           â”‚
â”‚    // Restore sidebar state                                  â”‚
â”‚    const sidebarCollapsed = localStorage.getItem(            â”‚
â”‚      'sidebarCollapsed'                                      â”‚
â”‚    );                                                         â”‚
â”‚    if (sidebarCollapsed !== null) {                          â”‚
â”‚      setSidebarCollapsed(                                    â”‚
â”‚        JSON.parse(sidebarCollapsed)                          â”‚
â”‚      );                                                       â”‚
â”‚    }                                                          â”‚
â”‚                                                               â”‚
â”‚    // Restore recent projects                                â”‚
â”‚    const recentProjects = localStorage.getItem(              â”‚
â”‚      'recentProjects'                                        â”‚
â”‚    );                                                         â”‚
â”‚    if (recentProjects) {                                     â”‚
â”‚      setRecentProjects(JSON.parse(recentProjects));          â”‚
â”‚    }                                                          â”‚
â”‚                                                               â”‚
â”‚    // Restore color configuration                            â”‚
â”‚    const colorConfig = localStorage.getItem('colorConfig');  â”‚
â”‚    if (colorConfig) {                                        â”‚
â”‚      applyColorConfig(JSON.parse(colorConfig));              â”‚
â”‚    }                                                          â”‚
â”‚                                                               â”‚
â”‚    // Restore user preferences                               â”‚
â”‚    const preferences = localStorage.getItem('preferences');  â”‚
â”‚    if (preferences) {                                        â”‚
â”‚      setPreferences(JSON.parse(preferences));                â”‚
â”‚    }                                                          â”‚
â”‚  }, []);                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ State restored
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Application Renders with Restored State                     â”‚
â”‚                                                               â”‚
â”‚  â€¢ Sidebar expanded/collapsed as user left it                â”‚
â”‚  â€¢ Recent projects list populated                            â”‚
â”‚  â€¢ Custom colors applied                                     â”‚
â”‚  â€¢ User preferences active                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


State Update â†’ localStorage Pattern:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Changes Setting (e.g., collapses sidebar)
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Event Handler                                               â”‚
â”‚                                                               â”‚
â”‚  const toggleSidebar = () => {                               â”‚
â”‚    setSidebarCollapsed(prev => !prev);                       â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useEffect Watches State                                     â”‚
â”‚                                                               â”‚
â”‚  useEffect(() => {                                           â”‚
â”‚    // Persist to localStorage whenever sidebar changes       â”‚
â”‚    localStorage.setItem(                                     â”‚
â”‚      'sidebarCollapsed',                                     â”‚
â”‚      JSON.stringify(sidebarCollapsed)                        â”‚
â”‚    );                                                         â”‚
â”‚  }, [sidebarCollapsed]);                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Browser localStorage                                        â”‚
â”‚                                                               â”‚
â”‚  Key: sidebarCollapsed                                       â”‚
â”‚  Value: true                                                 â”‚
â”‚                                                               â”‚
â”‚  â€¢ Persists across browser restarts                          â”‚
â”‚  â€¢ Shared across tabs (same origin)                          â”‚
â”‚  â€¢ ~5-10MB storage limit                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


localStorage Keys Used:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Key                    â”‚ Purpose                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ sidebarCollapsed       â”‚ Sidebar expanded/collapsed state     â”‚
â”‚ recentProjects         â”‚ List of recently opened projects     â”‚
â”‚ colorConfig            â”‚ Custom sector/model colors           â”‚
â”‚ preferences            â”‚ User preferences (theme, etc.)       â”‚
â”‚ chartDefaults          â”‚ Default chart configurations         â”‚
â”‚ tableColumns           â”‚ Visible table columns per page       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.2 sessionStorage Patterns (Tab-Scoped Storage)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           sessionStorage (Cleared on Tab Close)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Page Load/Refresh
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Restore Active Session State                                â”‚
â”‚                                                               â”‚
â”‚  useEffect(() => {                                           â”‚
â”‚    // Restore active project (critical!)                     â”‚
â”‚    const activeProject = sessionStorage.getItem(             â”‚
â”‚      'activeProject'                                         â”‚
â”‚    );                                                         â”‚
â”‚    if (activeProject) {                                      â”‚
â”‚      setActiveProject(JSON.parse(activeProject));            â”‚
â”‚    }                                                          â”‚
â”‚                                                               â”‚
â”‚    // Restore current page                                   â”‚
â”‚    const selectedPage = sessionStorage.getItem(              â”‚
â”‚      'selectedPage'                                          â”‚
â”‚    );                                                         â”‚
â”‚    if (selectedPage) {                                       â”‚
â”‚      navigate(selectedPage);                                 â”‚
â”‚    }                                                          â”‚
â”‚                                                               â”‚
â”‚    // Restore in-progress form data                          â”‚
â”‚    const wizardData = sessionStorage.getItem(                â”‚
â”‚      'loadProfileWizard'                                     â”‚
â”‚    );                                                         â”‚
â”‚    if (wizardData) {                                         â”‚
â”‚      restoreWizardState(JSON.parse(wizardData));             â”‚
â”‚    }                                                          â”‚
â”‚  }, []);                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Active Project State Management:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Loads Project
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Load Project API Call                                       â”‚
â”‚                                                               â”‚
â”‚  const loadProject = async (projectPath) => {                â”‚
â”‚    const result = await api.loadProject(projectPath);        â”‚
â”‚                                                               â”‚
â”‚    if (result.success) {                                     â”‚
â”‚      const project = result.project;                         â”‚
â”‚                                                               â”‚
â”‚      // Update React state                                   â”‚
â”‚      setActiveProject(project);                              â”‚
â”‚                                                               â”‚
â”‚      // Persist to sessionStorage                            â”‚
â”‚      sessionStorage.setItem(                                 â”‚
â”‚        'activeProject',                                      â”‚
â”‚        JSON.stringify(project)                               â”‚
â”‚      );                                                       â”‚
â”‚                                                               â”‚
â”‚      // Add to recent projects (localStorage)                â”‚
â”‚      addToRecentProjects(project);                           â”‚
â”‚                                                               â”‚
â”‚      // Navigate to first module                             â”‚
â”‚      navigate('/demand-forecasting');                        â”‚
â”‚    }                                                          â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  sessionStorage State                                        â”‚
â”‚                                                               â”‚
â”‚  Key: activeProject                                          â”‚
â”‚  Value: {                                                    â”‚
â”‚    "id": "proj-123",                                         â”‚
â”‚    "name": "Kerala Grid 2024",                               â”‚
â”‚    "path": "/home/user/projects/kerala_grid",                â”‚
â”‚    "created": "2024-01-15",                                  â”‚
â”‚    "lastModified": "2024-01-16"                              â”‚
â”‚  }                                                            â”‚
â”‚                                                               â”‚
â”‚  â€¢ Available across page navigations in same tab             â”‚
â”‚  â€¢ Cleared when tab/window closes                            â”‚
â”‚  â€¢ NOT shared with other tabs                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


sessionStorage Keys Used:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Key                    â”‚ Purpose                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ activeProject          â”‚ Currently loaded project info        â”‚
â”‚ selectedPage           â”‚ Current page path                    â”‚
â”‚ loadProfileWizard      â”‚ Load profile wizard progress         â”‚
â”‚ demandForecastModal    â”‚ Demand forecast modal config         â”‚
â”‚ pypsaModelConfig       â”‚ PyPSA model configuration draft      â”‚
â”‚ compareScenarios       â”‚ Selected scenarios for comparison    â”‚
â”‚ chartFilters           â”‚ Active chart filters (temporary)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.3 Zustand Store Patterns (React State Management)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ZUSTAND STORE (Global React State)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Load Profile Store Definition                               â”‚
â”‚  (frontend/src/stores/loadProfileStore.js)                   â”‚
â”‚                                                               â”‚
â”‚  import { create } from 'zustand';                           â”‚
â”‚  import { persist } from 'zustand/middleware';               â”‚
â”‚                                                               â”‚
â”‚  export const useLoadProfileStore = create(                  â”‚
â”‚    persist(                                                   â”‚
â”‚      (set, get) => ({                                        â”‚
â”‚        // State                                               â”‚
â”‚        profiles: [],                                         â”‚
â”‚        selectedProfile: null,                                â”‚
â”‚        viewMode: 'table',                                    â”‚
â”‚                                                               â”‚
â”‚        // Actions                                             â”‚
â”‚        setProfiles: (profiles) => set({ profiles }),         â”‚
â”‚        selectProfile: (id) => set({ selectedProfile: id }),  â”‚
â”‚        setViewMode: (mode) => set({ viewMode: mode }),       â”‚
â”‚                                                               â”‚
â”‚        addProfile: (profile) => set((state) => ({            â”‚
â”‚          profiles: [...state.profiles, profile]              â”‚
â”‚        })),                                                   â”‚
â”‚                                                               â”‚
â”‚        updateProfile: (id, updates) => set((state) => ({     â”‚
â”‚          profiles: state.profiles.map(p =>                   â”‚
â”‚            p.id === id ? { ...p, ...updates } : p            â”‚
â”‚          )                                                    â”‚
â”‚        })),                                                   â”‚
â”‚                                                               â”‚
â”‚        deleteProfile: (id) => set((state) => ({              â”‚
â”‚          profiles: state.profiles.filter(p => p.id !== id)   â”‚
â”‚        }))                                                    â”‚
â”‚      }),                                                      â”‚
â”‚      {                                                        â”‚
â”‚        name: 'load-profile-storage',  // localStorage key    â”‚
â”‚        partialize: (state) => ({                             â”‚
â”‚          profiles: state.profiles,    // Persist profiles    â”‚
â”‚          viewMode: state.viewMode     // Persist view mode   â”‚
â”‚          // selectedProfile NOT persisted (session only)     â”‚
â”‚        })                                                     â”‚
â”‚      }                                                        â”‚
â”‚    )                                                          â”‚
â”‚  );                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Using Store in Components                                   â”‚
â”‚                                                               â”‚
â”‚  // Component A: Load Profiles List                          â”‚
â”‚  const LoadProfilesList = () => {                            â”‚
â”‚    const { profiles, deleteProfile } = useLoadProfileStore();â”‚
â”‚                                                               â”‚
â”‚    return (                                                   â”‚
â”‚      <div>                                                    â”‚
â”‚        {profiles.map(profile => (                            â”‚
â”‚          <ProfileCard                                        â”‚
â”‚            key={profile.id}                                  â”‚
â”‚            profile={profile}                                 â”‚
â”‚            onDelete={() => deleteProfile(profile.id)}        â”‚
â”‚          />                                                   â”‚
â”‚        ))}                                                    â”‚
â”‚      </div>                                                   â”‚
â”‚    );                                                         â”‚
â”‚  };                                                           â”‚
â”‚                                                               â”‚
â”‚  // Component B: Add Profile Form                            â”‚
â”‚  const AddProfileForm = () => {                              â”‚
â”‚    const addProfile = useLoadProfileStore(s => s.addProfile);â”‚
â”‚                                                               â”‚
â”‚    const handleSubmit = (data) => {                          â”‚
â”‚      addProfile({                                            â”‚
â”‚        id: uuid(),                                           â”‚
â”‚        ...data,                                              â”‚
â”‚        createdAt: new Date().toISOString()                   â”‚
â”‚      });                                                      â”‚
â”‚    };                                                         â”‚
â”‚                                                               â”‚
â”‚    // ... form JSX ...                                       â”‚
â”‚  };                                                           â”‚
â”‚                                                               â”‚
â”‚  // Component C: View Mode Toggle                            â”‚
â”‚  const ViewModeToggle = () => {                              â”‚
â”‚    const { viewMode, setViewMode } = useLoadProfileStore();  â”‚
â”‚                                                               â”‚
â”‚    return (                                                   â”‚
â”‚      <ToggleButtonGroup value={viewMode}                     â”‚
â”‚                         onChange={setViewMode}>              â”‚
â”‚        <ToggleButton value="table">Table</ToggleButton>      â”‚
â”‚        <ToggleButton value="chart">Chart</ToggleButton>      â”‚
â”‚      </ToggleButtonGroup>                                    â”‚
â”‚    );                                                         â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


State Update Flow:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User adds new profile in Component B
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  addProfile(newProfile) called                               â”‚
â”‚                                                               â”‚
â”‚  Zustand updates internal state:                             â”‚
â”‚  profiles: [...oldProfiles, newProfile]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚                                     â”‚
                        â–¼                                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Component A         â”‚          â”‚ localStorage Update â”‚
            â”‚ Re-renders          â”‚          â”‚                     â”‚
            â”‚                     â”‚          â”‚ Persist middleware  â”‚
            â”‚ Shows new profile   â”‚          â”‚ automatically saves â”‚
            â”‚ in list             â”‚          â”‚ to localStorage     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Zustand Stores in Application:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Store                   â”‚ Purpose                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ useLoadProfileStore     â”‚ Load profiles state & actions      â”‚
â”‚ useSettingsStore        â”‚ Color config & preferences         â”‚
â”‚ useNotificationStore    â”‚ Active processes & notifications   â”‚
â”‚ useDemandForecastStore  â”‚ Forecast scenarios & results       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.4 Context-Based State (NotificationContext)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           CONTEXT FOR CROSS-COMPONENT COMMUNICATION                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NotificationContext Provider                                â”‚
â”‚  (frontend/src/contexts/NotificationContext.jsx)             â”‚
â”‚                                                               â”‚
â”‚  export const NotificationProvider = ({ children }) => {     â”‚
â”‚    const [processes, setProcesses] = useState([]);           â”‚
â”‚                                                               â”‚
â”‚    const addProcess = (process) => {                         â”‚
â”‚      setProcesses(prev => {                                  â”‚
â”‚        // Avoid duplicates                                   â”‚
â”‚        if (prev.find(p => p.id === process.id)) {            â”‚
â”‚          return prev;                                        â”‚
â”‚        }                                                      â”‚
â”‚        return [...prev, process];                            â”‚
â”‚      });                                                      â”‚
â”‚    };                                                         â”‚
â”‚                                                               â”‚
â”‚    const updateProcess = (id, updates) => {                  â”‚
â”‚      setProcesses(prev =>                                    â”‚
â”‚        prev.map(p =>                                         â”‚
â”‚          p.id === id ? { ...p, ...updates } : p              â”‚
â”‚        )                                                      â”‚
â”‚      );                                                       â”‚
â”‚    };                                                         â”‚
â”‚                                                               â”‚
â”‚    const removeProcess = (id) => {                           â”‚
â”‚      setProcesses(prev => prev.filter(p => p.id !== id));    â”‚
â”‚    };                                                         â”‚
â”‚                                                               â”‚
â”‚    return (                                                   â”‚
â”‚      <NotificationContext.Provider                           â”‚
â”‚        value={{                                              â”‚
â”‚          processes,                                          â”‚
â”‚          addProcess,                                         â”‚
â”‚          updateProcess,                                      â”‚
â”‚          removeProcess                                       â”‚
â”‚        }}                                                     â”‚
â”‚      >                                                        â”‚
â”‚        {children}                                            â”‚
â”‚      </NotificationContext.Provider>                         â”‚
â”‚    );                                                         â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Wraps entire app
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  App.jsx                                                     â”‚
â”‚                                                               â”‚
â”‚  <NotificationProvider>                                      â”‚
â”‚    <BrowserRouter>                                           â”‚
â”‚      <Sidebar />                                             â”‚
â”‚      <MainContent>                                           â”‚
â”‚        <Routes>                                              â”‚
â”‚          <Route path="/demand-forecasting"                   â”‚
â”‚                 element={<DemandForecasting />} />           â”‚
â”‚          <Route path="/load-profiles"                        â”‚
â”‚                 element={<LoadProfiles />} />                â”‚
â”‚          ...                                                  â”‚
â”‚        </Routes>                                             â”‚
â”‚      </MainContent>                                          â”‚
â”‚      <ProcessNotificationPanel />                            â”‚
â”‚    </BrowserRouter>                                          â”‚
â”‚  </NotificationProvider>                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Using Context Across Components:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component 1: Start Process (Demand Forecasting)                â”‚
â”‚                                                                  â”‚
â”‚  const DemandForecasting = () => {                              â”‚
â”‚    const { addProcess } = useNotification();                   â”‚
â”‚                                                                  â”‚
â”‚    const startForecast = async () => {                         â”‚
â”‚      const process_id = uuid();                                â”‚
â”‚                                                                  â”‚
â”‚      // Add to global process list                             â”‚
â”‚      addProcess({                                              â”‚
â”‚        id: process_id,                                         â”‚
â”‚        type: 'demand-forecast',                                â”‚
â”‚        name: 'Demand Forecast: Base Case',                     â”‚
â”‚        status: 'running',                                      â”‚
â”‚        progress: 0                                             â”‚
â”‚      });                                                        â”‚
â”‚                                                                  â”‚
â”‚      // Start backend operation                                â”‚
â”‚      await api.startForecast({ process_id, ... });             â”‚
â”‚    };                                                           â”‚
â”‚  };                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ addProcess() called
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Context State Updated                                          â”‚
â”‚                                                                  â”‚
â”‚  processes: [                                                   â”‚
â”‚    {                                                             â”‚
â”‚      id: "uuid-123",                                            â”‚
â”‚      type: "demand-forecast",                                   â”‚
â”‚      name: "Demand Forecast: Base Case",                        â”‚
â”‚      status: "running",                                         â”‚
â”‚      progress: 0                                                â”‚
â”‚    }                                                             â”‚
â”‚  ]                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ All consumers re-render
                          â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚             â”‚             â”‚
            â–¼             â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Component 2:    â”‚ â”‚ Component 3:    â”‚ â”‚ Component 4:    â”‚
â”‚ Sidebar Badge   â”‚ â”‚ Notification    â”‚ â”‚ Active Process  â”‚
â”‚                 â”‚ â”‚ Panel           â”‚ â”‚ List            â”‚
â”‚ Shows count: 1  â”‚ â”‚                 â”‚ â”‚                 â”‚
â”‚ active process  â”‚ â”‚ Shows toast:    â”‚ â”‚ Shows process   â”‚
â”‚                 â”‚ â”‚ "Forecast       â”‚ â”‚ with progress   â”‚
â”‚ const {         â”‚ â”‚  started"       â”‚ â”‚ bar             â”‚
â”‚   processes     â”‚ â”‚                 â”‚ â”‚                 â”‚
â”‚ } = useNotif(); â”‚ â”‚ const {         â”‚ â”‚ const {         â”‚
â”‚                 â”‚ â”‚   processes     â”‚ â”‚   processes,    â”‚
â”‚ Badge count:    â”‚ â”‚ } = useNotif(); â”‚ â”‚   updateProcess â”‚
â”‚ {processes      â”‚ â”‚                 â”‚ â”‚ } = useNotif(); â”‚
â”‚  .length}       â”‚ â”‚ Shows latest    â”‚ â”‚                 â”‚
â”‚                 â”‚ â”‚ process info    â”‚ â”‚ Maps over list  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. Settings Page - Color Customization & Configuration

### 11.1 Settings Page Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SETTINGS PAGE OVERVIEW                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Navigate to /settings
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings Page                                                  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Header                                                 â”‚   â”‚
â”‚  â”‚  âš™ï¸  Settings                                           â”‚   â”‚
â”‚  â”‚  Configure application preferences and customization   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Tabs                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â”‚
â”‚  â”‚  â”‚ Colors   â”‚ General â”‚ Advanced â”‚ About    â”‚         â”‚   â”‚
â”‚  â”‚  â”‚ (Active) â”‚         â”‚          â”‚          â”‚         â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Colors Tab Content                                     â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  Sector Colors                                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Residential    [â–  #4CAF50]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Commercial     [â–  #2196F3]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Industrial     [â–  #FF9800]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Agriculture    [â–  #8BC34A]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Public         [â–  #9C27B0]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Transport      [â–  #F44336]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  [Reset All Sector Colors]                      â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  Model/Technology Colors                        â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Solar PV       [â–  #FFD700]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Wind           [â–  #00BCD4]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Hydro          [â–  #0288D1]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Coal           [â–  #424242]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Gas            [â–  #FFA726]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Nuclear        [â–  #E91E63]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  Battery        [â–  #9C27B0]  [Reset]           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  [Reset All Model Colors]                       â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  Preview                                         â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  [Sample chart showing current color scheme]    â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  [Save Changes]  [Cancel]  [Reset to Defaults]         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.2 Color Picker Interaction Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COLOR CUSTOMIZATION FLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Clicks Color Swatch (e.g., Residential sector)
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Open Color Picker Modal                                     â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Color Picker for: Residential                     â”‚     â”‚
â”‚  â”‚                                                     â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚     â”‚
â”‚  â”‚  â”‚  Color Wheel / Palette         â”‚               â”‚     â”‚
â”‚  â”‚  â”‚                                 â”‚               â”‚     â”‚
â”‚  â”‚  â”‚  [Interactive HSV color wheel]  â”‚               â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚     â”‚
â”‚  â”‚                                                     â”‚     â”‚
â”‚  â”‚  RGB:  R [255] G [193] B [7  ]                    â”‚     â”‚
â”‚  â”‚  HEX:  [#FFC107                ]                   â”‚     â”‚
â”‚  â”‚  HSL:  H [45Â°] S [100%] L [51%]                   â”‚     â”‚
â”‚  â”‚                                                     â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚     â”‚
â”‚  â”‚  â”‚  Presets                        â”‚               â”‚     â”‚
â”‚  â”‚  â”‚  â–  â–  â–  â–  â–  â–  â–  â–                â”‚               â”‚     â”‚
â”‚  â”‚  â”‚  â–  â–  â–  â–  â–  â–  â–  â–                â”‚               â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚     â”‚
â”‚  â”‚                                                     â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚     â”‚
â”‚  â”‚  â”‚  Preview                        â”‚               â”‚     â”‚
â”‚  â”‚  â”‚  Old: â–ˆâ–ˆâ–ˆâ–ˆ #4CAF50              â”‚               â”‚     â”‚
â”‚  â”‚  â”‚  New: â–ˆâ–ˆâ–ˆâ–ˆ #FFC107              â”‚               â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚     â”‚
â”‚  â”‚                                                     â”‚     â”‚
â”‚  â”‚  [Apply]  [Cancel]                                 â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ User clicks [Apply]
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Update Color Configuration State                            â”‚
â”‚                                                               â”‚
â”‚  const handleColorChange = (category, key, newColor) => {    â”‚
â”‚    setColorConfig(prev => ({                                 â”‚
â”‚      ...prev,                                                 â”‚
â”‚      [category]: {                                           â”‚
â”‚        ...prev[category],                                    â”‚
â”‚        [key]: newColor                                       â”‚
â”‚      }                                                        â”‚
â”‚    }));                                                       â”‚
â”‚                                                               â”‚
â”‚    // Mark as modified                                       â”‚
â”‚    setHasUnsavedChanges(true);                               â”‚
â”‚                                                               â”‚
â”‚    // Update preview chart                                   â”‚
â”‚    updatePreviewChart();                                     â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Color Configuration State                                   â”‚
â”‚                                                               â”‚
â”‚  colorConfig: {                                              â”‚
â”‚    sectors: {                                                â”‚
â”‚      residential: "#FFC107",  // â† Changed from #4CAF50      â”‚
â”‚      commercial: "#2196F3",                                  â”‚
â”‚      industrial: "#FF9800",                                  â”‚
â”‚      agriculture: "#8BC34A",                                 â”‚
â”‚      public: "#9C27B0",                                      â”‚
â”‚      transport: "#F44336"                                    â”‚
â”‚    },                                                         â”‚
â”‚    models: {                                                 â”‚
â”‚      solar: "#FFD700",                                       â”‚
â”‚      wind: "#00BCD4",                                        â”‚
â”‚      // ... etc                                              â”‚
â”‚    }                                                          â”‚
â”‚  }                                                            â”‚
â”‚                                                               â”‚
â”‚  hasUnsavedChanges: true                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Preview Chart Updates                                       â”‚
â”‚                                                               â”‚
â”‚  Sample bar chart re-renders with new color:                 â”‚
â”‚  Residential: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (now #FFC107 instead of #4CAF50)      â”‚
â”‚  Commercial:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                         â”‚
â”‚  Industrial:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.3 Save Color Configuration Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SAVE COLOR CONFIGURATION                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Clicks "Save Changes" Button
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validate Color Configuration                                â”‚
â”‚                                                               â”‚
â”‚  â€¢ Check all colors are valid hex codes                      â”‚
â”‚  â€¢ Check no duplicate colors (optional warning)              â”‚
â”‚  â€¢ Validate accessibility contrast (optional)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Validation passed
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Save to Multiple Locations                                  â”‚
â”‚                                                               â”‚
â”‚  1. Update Zustand Store (immediate app-wide effect)         â”‚
â”‚     const { setColorConfig } = useSettingsStore();           â”‚
â”‚     setColorConfig(colorConfig);                             â”‚
â”‚                                                               â”‚
â”‚  2. Save to localStorage (persists across sessions)          â”‚
â”‚     localStorage.setItem(                                    â”‚
â”‚       'colorConfig',                                         â”‚
â”‚       JSON.stringify(colorConfig)                            â”‚
â”‚     );                                                        â”‚
â”‚                                                               â”‚
â”‚  3. Optionally save to backend (project-specific colors)     â”‚
â”‚     if (saveToProject) {                                     â”‚
â”‚       await api.saveProjectColors(                           â”‚
â”‚         activeProject.id,                                    â”‚
â”‚         colorConfig                                          â”‚
â”‚       );                                                      â”‚
â”‚     }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Apply Colors Application-Wide                               â”‚
â”‚                                                               â”‚
â”‚  â€¢ All charts re-render with new colors                      â”‚
â”‚  â€¢ Legends update                                            â”‚
â”‚  â€¢ Map visualizations update                                 â”‚
â”‚  â€¢ Table row colors update                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Show Success Feedback                                       â”‚
â”‚                                                               â”‚
â”‚  toast.success('Color configuration saved!');                â”‚
â”‚  setHasUnsavedChanges(false);                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Application-Wide Color Application:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Settings Store Updated
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  All Components Using Colors Re-render                       â”‚
â”‚                                                               â”‚
â”‚  // Example: Demand Chart Component                          â”‚
â”‚  const DemandChart = () => {                                 â”‚
â”‚    const { colorConfig } = useSettingsStore();               â”‚
â”‚                                                               â”‚
â”‚    const chartData = {                                       â”‚
â”‚      datasets: [                                             â”‚
â”‚        {                                                      â”‚
â”‚          label: 'Residential',                               â”‚
â”‚          data: [...],                                        â”‚
â”‚          backgroundColor: colorConfig.sectors.residential    â”‚
â”‚          // â†‘ Automatically uses new color                   â”‚
â”‚        },                                                     â”‚
â”‚        {                                                      â”‚
â”‚          label: 'Commercial',                                â”‚
â”‚          data: [...],                                        â”‚
â”‚          backgroundColor: colorConfig.sectors.commercial     â”‚
â”‚        },                                                     â”‚
â”‚        // ...                                                 â”‚
â”‚      ]                                                        â”‚
â”‚    };                                                         â”‚
â”‚                                                               â”‚
â”‚    return <Bar data={chartData} />;                          â”‚
â”‚  };                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Reset to Defaults:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Clicks "Reset to Defaults"
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Confirmation Dialog                                         â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  âš ï¸  Reset Colors to Defaults?                     â”‚     â”‚
â”‚  â”‚                                                     â”‚     â”‚
â”‚  â”‚  This will reset all custom colors to the          â”‚     â”‚
â”‚  â”‚  default color scheme. This cannot be undone.      â”‚     â”‚
â”‚  â”‚                                                     â”‚     â”‚
â”‚  â”‚  [Cancel]  [Reset]                                 â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ User confirms
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Reset to Default Colors                                     â”‚
â”‚                                                               â”‚
â”‚  const DEFAULT_COLORS = {                                    â”‚
â”‚    sectors: {                                                â”‚
â”‚      residential: "#4CAF50",                                 â”‚
â”‚      commercial: "#2196F3",                                  â”‚
â”‚      industrial: "#FF9800",                                  â”‚
â”‚      agriculture: "#8BC34A",                                 â”‚
â”‚      public: "#9C27B0",                                      â”‚
â”‚      transport: "#F44336"                                    â”‚
â”‚    },                                                         â”‚
â”‚    models: {                                                 â”‚
â”‚      solar: "#FFD700",                                       â”‚
â”‚      wind: "#00BCD4",                                        â”‚
â”‚      // ... etc                                              â”‚
â”‚    }                                                          â”‚
â”‚  };                                                           â”‚
â”‚                                                               â”‚
â”‚  setColorConfig(DEFAULT_COLORS);                             â”‚
â”‚  localStorage.setItem('colorConfig',                         â”‚
â”‚                       JSON.stringify(DEFAULT_COLORS));       â”‚
â”‚  toast.success('Colors reset to defaults');                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 12. Document Metadata

**Document Title:** React+FastAPI Complete Flow Diagrams  
**Version:** 1.0  
**Created:** 2024-01-16  
**Last Updated:** 2024-01-16  
**Format:** ASCII Art Flow Diagrams  
**Coverage:** All modules, pages, flows, and interactions  

**Sections Included:**
1. Master Application Architecture âœ“
2. Application Startup Flow âœ“
3. Project Management Flows âœ“
4. Demand Forecasting Module Flows (Complete) âœ“
5. Load Profiles Module Flows âœ“
6. PyPSA Suite Module Flows âœ“
7. Data Flow Diagrams âœ“
8. Navigation & Routing Flows âœ“
9. Real-Time Communication Flows âœ“
10. State Management Flows âœ“
11. Settings Page - Color Customization âœ“

**Total Pages:** ~150+ diagrams  
**Purpose:** Complete technical documentation of React+FastAPI webapp architecture and user flows

---

**END OF DOCUMENT**

